const e=(e,t)=>{console.warn(`Incorrect data. %c${e}`,"padding: 0 5px; color: #b90000; background: #ffff81",t)},t=t=>{if(!t.length)return{have_errors:!1,have_critical_error:!1};const n=t.find((e=>e.is_critical));return n?(e(n.message,n.data||""),{have_errors:!0,have_critical_error:!0}):(e(t[0].message,t[0].data||""),{have_errors:!0,have_critical_error:!1})},n=(e,t=300)=>{let n;return(...o)=>{clearTimeout(n),n=setTimeout((()=>{e.apply(void 0,o)}),t)}},o=(e,t,n)=>Math.max(Math.min(e,n),t),r=e=>"object"==typeof e&&!Array.isArray(e)&&null!==e,i=e=>"number"==typeof e&&!isNaN(e),a=e=>{if("string"!=typeof e)return console.warn("create_element_from_Html expects an html string, instead got: ",e),document.createElement("div");const t=document.createElement("div");return t.innerHTML=e.trim(),t.firstElementChild?t.firstElementChild:(console.warn(`create_element_from_Html: failed to create an element from string: "${e}"`),document.createElement("div"))},s=(e,t)=>Array.from(Array(e)).map(((e,n)=>t(n))),l=(e,t,n)=>{const o=document.head.querySelector(`#${e}-${t}`);o&&document.head.removeChild(o),((e,t,n)=>{document.head.insertAdjacentHTML("beforeend",`<style id='${e}-${t}'>${n}</style>`)})(e,t,n)},c=e=>{if(null===e||"object"!=typeof e)return e;let t=new e.constructor;for(let n in e)e.hasOwnProperty(n)&&(t[n]=c(e[n]));return t},d=(e,t)=>{const n=[];return r(e)?(void 0===e.mainScore&&n.push({is_critical:!1,message:'Score must contain a "mainScore" property',data:t}),i(e.mainScore)||"string"==typeof e.mainScore||n.push({is_critical:!1,message:"mainScore must be a number or a string",data:t}),void 0===e.subscore||i(e.subscore)||"string"==typeof e.subscore||n.push({is_critical:!1,message:'If you provide "subscore", it must be a number or a string',data:t}),"boolean"!=typeof e.isWinner&&void 0!==e.isWinner&&n.push({is_critical:!1,message:'If you provide "isWinner", it must be a boolean',data:t})):n.push({is_critical:!1,message:"Score must be an object",data:t}),n},p=(e,t)=>{const n=[];return void 0===e||Array.isArray(e)||n.push({is_critical:!0,message:"data.matches must be an array:",data:e}),e&&e.length&&e.forEach((e=>{r(e)||n.push({is_critical:!0,message:"Match must be an object:",data:e}),i(e.roundIndex)||n.push({is_critical:!1,message:'Match must contain a numeric "roundIndex" prop:',data:e}),i(e.order)||n.push({is_critical:!1,message:'Match must contain a numeric "order" prop:',data:e}),void 0!==e.matchStatus&&"string"!=typeof e.matchStatus&&n.push({is_critical:!1,message:"Match.matchStatus must be a string",data:e}),void 0!==e.isLive&&"boolean"!=typeof e.isLive&&n.push({is_critical:!1,message:"Match.isLive must be a boolean",data:e}),void 0===e.sides||Array.isArray(e.sides)||n.push({is_critical:!0,message:"Match.sides is required and must be an array",data:e}),Array.isArray(e.sides)&&e.sides.forEach((o=>{r(o)?(void 0!==o.contestantId&&"string"!=typeof o.contestantId&&n.push({is_critical:!0,message:"If you provide side.contestantId, it must be a string",data:o}),"string"!=typeof o.contestantId||Object.keys(t||{}).includes(o.contestantId)||n.push({is_critical:!1,message:"No contestant data found for this side.contestantId:",data:o}),void 0!==o.isWinner&&"boolean"!=typeof o.isWinner&&n.push({is_critical:!1,message:"If you provide side.isWinner, it must be a boolean",data:o}),void 0===o.scores||Array.isArray(o.scores)||n.push({is_critical:!0,message:"If side.scores is provided, it must be an array",data:o}),Array.isArray(o.scores)&&!o.scores.length&&n.push({is_critical:!1,message:"side.scores is provided but it's an empty array: ",data:o}),Array.isArray(o.scores)&&o.scores.forEach((e=>{n.push(...d(e,o))})),void 0!==o.current_score&&n.push(...d(o.current_score,o)),void 0!==o.isServing&&"boolean"!=typeof o.isServing&&n.push({is_critical:!1,message:"If side.isServing is provided, it must be a boolean",data:o})):n.push({is_critical:!0,message:"Match's side must be an object",data:e})}))})),n};var u=".playoffs-root .buttons-header {\n  align-items: center;\n  justify-content: space-between;\n  position: static;\n  height: auto;\n  border-width: 1px;\n  border-style: solid;\n  border-color: transparent;\n}\n.playoffs-root .buttons-header .navigation-button {\n  display: flex;\n  align-items: center;\n}\n.playoffs-root .navigation-button {\n  max-height: 100%;\n  pointer-events: none;\n  border-color: transparent;\n}\n.playoffs-root .navigation-button.non-header-button {\n  cursor: auto;\n  user-select: none;\n  z-index: 3;\n  border-width: 1px;\n  border-style: solid;\n  justify-content: center;\n  align-items: center;\n}\n.playoffs-root .navigation-button.non-header-button.left {\n  left: 0;\n}\n.playoffs-root .navigation-button.non-header-button.right {\n  right: 0;\n}\n.playoffs-root .navigation-button.hidden {\n  display: none;\n}\n.playoffs-root .navigation-button.active {\n  cursor: pointer;\n  pointer-events: auto;\n}\n.playoffs-root .navigation-button.active > * {\n  opacity: 0.65;\n}\n.playoffs-root .navigation-button.active:hover > * {\n  opacity: 1;\n}\n.playoffs-root .navigation-button > * {\n  transition: opacity ease-in-out 0.2s;\n  opacity: 0.15;\n  pointer-events: none;\n}\n.playoffs-root .default-navigation-svg {\n  height: auto;\n}",h='.stop-scrolling {\n  height: 100%;\n  overflow: hidden;\n}\n\n.playoffs-root {\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n  visibility: hidden;\n  \n}\n.playoffs-root * {\n  box-sizing: border-box;\n  user-select: none;\n  margin: 0;\n  padding: 0;\n  width: auto;\n  height: auto;\n  border: none;\n  border-radius: 0;\n  align-content: unset;\n  align-items: unset;\n  align-self: unset;\n  bottom: unset;\n  top: unset;\n  left: unset;\n  right: unset;\n  box-shadow: none;\n  outline: none;\n  text-decoration: none;\n  white-space: initial;\n  line-height: initial;\n}\n.playoffs-root .fullscreen-wrapper {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  min-width: 260px;\n  display: flex;\n  flex-direction: column;\n  text-align: left;\n  border-width: 1px;\n  border-style: solid;\n  box-sizing: border-box;\n}\n.playoffs-root .exit-fullscreen-button {\n  position: fixed;\n  right: 0;\n  top: 0;\n  z-index: 4;\n  cursor: pointer;\n  align-items: center;\n  justify-content: center;\n  user-select: none;\n  display: none;\n  \n  min-width: 46px;\n  min-height: 46px;\n  align-items: self-end;\n  justify-content: flex-start;\n  padding: 4px;\n}\n.playoffs-root .exit-fullscreen-button .circle-button {\n  display: flex;\n  padding: 6px;\n  border-radius: 50%;\n}\n.playoffs-root .exit-fullscreen-button .circle-button svg {\n  opacity: 0.65;\n  transition: opacity ease-in-out 0.2s;\n}\n.playoffs-root .exit-fullscreen-button .circle-button svg:hover {\n  opacity: 1;\n}\n.playoffs-root .all-but-buttons-header {\n  flex: 1;\n  display: flex;\n  min-height: 0;\n  \n}\n.playoffs-root .zero-width {\n  width: 0;\n}\n.playoffs-root .with-hidden-scrollbar {\n  scrollbar-width: none;\n  \n  -ms-overflow-style: none;\n  \n}\n.playoffs-root .with-hidden-scrollbar::-webkit-scrollbar {\n  width: 0px;\n  \n}\n.playoffs-root .full-width-grid-column {\n  \n  grid-column: 1/-1;\n}\n.playoffs-root .equal-width-columns-grid {\n  \n  display: grid;\n  grid-auto-flow: column;\n  grid-auto-columns: minmax(0, 1fr);\n}\n.playoffs-root .round-titles-wrapper {\n  width: 100%;\n  position: relative;\n  \n}\n.playoffs-root .round-titles-wrapper:after {\n  position: absolute;\n  display: block;\n  left: 0;\n  right: -2000px;\n  height: 100%;\n  top: 0;\n  content: "";\n}\n.playoffs-root .round-title {\n  display: flex;\n  align-items: center;\n  white-space: nowrap;\n  overflow: hidden;\n  justify-content: center;\n}\n.playoffs-root .matches-vertical-scroller {\n  flex: 1;\n  position: relative;\n  overflow-y: scroll;\n  overflow-x: hidden;\n}\n.playoffs-root .matches-positioner {\n  position: relative;\n  display: grid;\n  grid-template-rows: 100%;\n  overflow: hidden;\n  \n}\n.playoffs-root .content-area {\n  flex: 1;\n  \n  \n  min-width: 0;\n  \n  overflow: hidden;\n  position: relative;\n}\n.playoffs-root .content-horizontal-scroller {\n  height: 100%;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  width: max-content;\n  min-width: 100%;\n}\n.playoffs-root .scrollbar-parent {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n}\n.playoffs-root .scrollbar {\n  position: absolute;\n  z-index: 2;\n  right: 0;\n  left: 0;\n  opacity: 0.7;\n}\n.playoffs-root .scrollbar:hover, .playoffs-root .scrollbar.dragged {\n  opacity: 1;\n}',g=".playoffs-root {\n  \n  \n}\n.playoffs-root .round-wrapper {\n  position: relative;\n  display: grid;\n  grid-auto-rows: minmax(0, 1fr);\n  align-items: stretch;\n  min-width: 180px;\n  max-width: 100%;\n}\n.playoffs-root .round-wrapper:last-of-type {\n  \n  overflow: hidden;\n}\n.playoffs-root .match-wrapper {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  position: relative;\n  min-height: 40px;\n  box-sizing: border-box;\n}\n.playoffs-root .round-wrapper .match-body {\n  width: 100%;\n  transition: border-color 0.1s ease-out;\n  display: flex;\n  justify-content: flex-end; \n  z-index: 2;\n  pointer-events: auto;\n}\n.playoffs-root .round-wrapper .match-body:empty {\n  pointer-events: none; \n}\n.playoffs-root .round-wrapper .match-body .sides {\n  flex: 1;\n  display: grid;\n  grid-template-rows: minmax(0, 1fr) minmax(0, 1fr); \n  grid-template-columns: minmax(0, 1fr);\n}\n.playoffs-root .round-wrapper .match-body .match-status {\n  z-index: 2;\n  align-self: center;\n  transition: border-color 0.1s ease-out;\n}\n.playoffs-root .round-wrapper .match-body .match-status:empty {\n  display: none;\n}\n.playoffs-root .match-wrapper .match-lines-area {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  pointer-events: none;\n  z-index: 1;\n}\n.playoffs-root .match-wrapper .match-lines-area .line-wrapper {\n  flex: 1; \n  transition: color 0.1s ease-out, border-color 0.1s ease-out;\n  color: transparent;\n}\n.playoffs-root .round-wrapper:last-of-type .line-wrapper {\n  box-shadow: none !important;\n}\n.playoffs-root .side-wrapper {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  pointer-events: auto;\n}\n.playoffs-root .side-info-item {\n  display: grid;\n  grid-auto-rows: minmax(0, 1fr); \n  grid-template-columns: auto;\n  align-items: center;\n}\n.playoffs-root .side-info-item.players-info {\n  flex: 1;\n  min-width: 0;\n}\n.playoffs-root .player-wrapper {\n  display: flex;\n  align-items: center;\n  min-width: 0;\n  overflow: hidden;\n}\n.playoffs-root .player-wrapper .nationality {\n  flex-shrink: 0;\n}\n.playoffs-root .player-wrapper .player-title {\n  flex: 1;\n  transition: color 0.1s ease-out, opacity 0.1s ease-out;\n  white-space: nowrap;\n  text-align: left;\n  text-overflow: ellipsis;\n  min-width: 0; \n  overflow: hidden;\n}\n.playoffs-root .side-wrapper.looser:not(.highlighted) .player-title,\n.playoffs-root .side-wrapper .single-score-wrapper:not(.winner) {\n  opacity: 0.54;\n}\n.playoffs-root .side-info-item.serving-mark {\n  border-radius: 50%;\n  background-color: #b7cf15;\n}\n.playoffs-root .side-info-item.serving-mark.hidden {\n  display: none;\n}\n.playoffs-root .side-info-item.serving-mark.transparent {\n  opacity: 0;\n}\n.playoffs-root .side-info-item.side-scores {\n  grid-auto-flow: column;\n}\n.playoffs-root .side-info-item.current_score {\n  border-width: 1px;\n  border-style: solid;\n  text-align: center;\n}\n.playoffs-root .side-info-item.current_score:empty {\n  display: none;\n}\n.playoffs-root .single-score-wrapper {\n  display: flex;\n  overflow: visible;\n  flex-direction: column;\n  align-items: center;\n}\n.playoffs-root .single-score-wrapper .side-own-single-score {\n  display: flex;\n}\n.playoffs-root .single-score-wrapper .opponent-single-score {\n  display: flex;\n  height: 0;\n  overflow: hidden;\n}\n.playoffs-root .subscore {\n  padding-left: 1px;\n}\n.playoffs-root svg.default-winner-svg {\n  width: auto;\n}";const f=e=>{const t=document.querySelector(`#${e}`);if(!t)return null;const n=e=>t.querySelector(e);return{the_root_element:t,scrollbar:n(".scrollbar"),content_area:n(".content-area"),round_titles_wrapper:n(".round-titles-wrapper"),matches_vertical_scroller:n(".matches-vertical-scroller"),matches_positioner:n(".matches-positioner"),content_horizontal_scroller:n(".content-horizontal-scroller")}},m=((e,t)=>{let n=!0,o=null;return function r(){var i=this;n?(n=!1,setTimeout((function(){n=!0,o&&r.apply(i)}),t),o?(e.apply(this,o),o=null):e.apply(this,arguments)):o=arguments}})(((e,t)=>{if(!0!==t("showScrollbar"))return;const n=getComputedStyle(e.scrollbar);if("none"===n.display||"hidden"===n.visibility)return;const o=e.matches_vertical_scroller.scrollHeight;e.scrollbar.style.top=e.matches_vertical_scroller.scrollTop/o*100+"%",e.scrollbar.style.height=e.matches_vertical_scroller.clientHeight/o*100+"%"}),15),v={update_position:m,full_update:(e,t)=>{if(!0!==t("showScrollbar"))return;const n=e.matches_vertical_scroller.scrollHeight>e.matches_vertical_scroller.clientHeight;e.scrollbar.style.visibility=n?"visible":"hidden",m(e,t)}},y=(e,t)=>{if("string"!=typeof t&&null!==t)return;if([...e.querySelectorAll(".side-wrapper.highlighted")].forEach((e=>{e.classList.remove("highlighted"),e.closest(".match-wrapper").classList.remove("highlighted"),e.closest(".last-highlighted")?.classList.remove("last-highlighted")})),null===t||""===t)return;const n=[...e.querySelectorAll(`.side-wrapper[contestant-id="${t}"]`)];n.length&&(n[0].classList.contains("highlighted")||n.reverse().forEach(((e,t)=>{e.classList.add("highlighted"),e.closest(".match-wrapper").classList.add("highlighted"),0===t&&e.closest(".match-wrapper").classList.add("last-highlighted")})))},b=e=>{const t=e.target.closest(".matches-vertical-scroller");if(!t)return void e.preventDefault();const n=e.deltaY<0&&t.scrollTop<=0,o=e.deltaY>0&&t.scrollTop>=t.scrollHeight-t.clientHeight;(n||o||t.clientHeight>=t.scrollHeight)&&e.preventDefault()};var _=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){_=!0}}))}catch(e){}const w=!!_&&{passive:!1},x="onwheel"in document.createElement("div")?"wheel":"mousewheel",$=(e,t)=>{const n=+e.closest(".round-wrapper")?.getAttribute("round-index"),o=+e.closest(".match-wrapper")?.getAttribute("match-order");return t.matches?.find((e=>e.roundIndex===n&&e.order===o))||{roundIndex:+n,order:+o}},S=(e,t,o,r,i)=>{let a=null,s=null,l=!1;const{the_root_element:c,content_area:d,matches_vertical_scroller:p,scrollbar:u,matches_positioner:h}=o,g=()=>{o.the_root_element.style.opacity=0,setTimeout(i,300)},f=n=>{if(0===n.button)if(!0!==t("fullscreen")||n.target.closest(".fullscreen-wrapper")||g(),n.target.classList.contains("navigation-button"))r.handle_click(n);else if(null===t("onMatchClick"))if(null===t("onMatchSideClick"))n.target.closest(".matches-positioner")&&(!0!==t("disableHighlight")&&n.target.closest(".side-wrapper[contestant-id]")?y(h,n.target.closest(".side-wrapper").getAttribute("contestant-id")):y(h,null));else{const o=n.target.closest(".side-wrapper");if(o){const r=$(n.target,e),i=o.getAttribute("contestant-id"),a=e.contestants?.[i];t("onMatchSideClick")(r,a,i)}}else if(n.target.classList.contains("match-body")){const o=$(n.target,e);t("onMatchClick")(o)}},m=e=>{0===e.button&&(l=!0,a=e.clientY,s=p.scrollTop,u.classList.contains("dragged")||u.classList.add("dragged"))},_=()=>{l=!1,a=null,s=null,u.classList.contains("dragged")&&u.classList.remove("dragged")},S=((e,t)=>{let n=!1;return(...o)=>{n||(e.apply(void 0,o),n=!0,setTimeout((()=>{n=!1}),t))}})((e=>{if(l){const t=(e.clientY-a)/d.clientHeight;p.scrollTop=s+t*p.scrollHeight}}),15),L=n((()=>{p.style.overflowY="scroll"}),200),M=()=>{p.style.overflowY="hidden",L()},T=()=>v.update_position(o,t),C=e=>{!0===t("fullscreen")&&"Escape"===e.key&&g()};c.addEventListener("click",f),window.addEventListener("mouseup",_),window.addEventListener("mousemove",S),window.addEventListener("scroll",M),u.addEventListener("mousedown",m),p.addEventListener("scroll",T),window.addEventListener("keydown",C),!0===t("fullscreen")&&window.addEventListener(x,b,w);return{uninstall:()=>{c?.removeEventListener("click",f),window.removeEventListener("scroll",M),window.removeEventListener("mouseup",_),window.removeEventListener("mousemove",S),u?.removeEventListener("mousedown",m),p?.removeEventListener("scroll",T),window.removeEventListener("keydown",C),window.removeEventListener(x,b,w)}}},L={GENERAL_OPTIONS:{width:{type:"string",default_value:"100%"},height:{type:"string",default_value:"100%"},fullscreen:{type:"boolean",default_value:!1,non_updatable:!0},fullscreenBgColor:{type:"string",default_value:"rgba(0,0,0,.3)"},mainBorderColor:{type:"string",default_value:"#bbbbbb"},rootBgColor:{type:"string",default_value:"transparent"},mainVerticalPadding:{type:"pixels",default_value:20,min_value:0},visibleRoundsCount:{type:"number",default_value:0},displayWholeRounds:{type:"boolean",default_value:!1},useClassicalLayout:{type:"boolean",default_value:!1},showScrollbar:{type:"boolean",default_value:!0},scrollbarWidth:{type:"pixels",default_value:"5"},scrollbarColor:{type:"string",default_value:"#d3d3d3"},disableHighlight:{type:"boolean",default_value:!1}},ROUND_TITLE_OPTIONS:{getRoundTitleElement:{type:"function_or_null",default_value:null},roundTitlesHeight:{type:"pixels",default_value:"50"},roundTitlesBorderBottomColor:{type:"string",default_value:"#bbbbbb"},roundTitleColor:{type:"string",default_value:"#000"}},NAVIGATION_OPTIONS:{resetScrollOnNavigation:{type:"boolean",default_value:!1},navButtonsPosition:{type:"select",options:[...Object.keys({overMatches:"left and right (on top of matches)",gutters:"left and right (in the gutters)",beforeTitles:"header (before round titles)",overTitles:"header (on top of round titles)",hidden:"hidden"})],default_value:"gutters"},navigationButtonsTopDistance:{type:"string",default_value:"50%",disable_if:e=>"overMatches"!==e.navButtonsPosition},navigationGutterBorderColor:{type:"string",default_value:"#bbbbbb",disable_if:e=>"gutters"!==e.navButtonsPosition&&"overTitles"!==e.navButtonsPosition&&"beforeTitles"!==e.navButtonsPosition},defaultNavigationSvgSize:{type:"pixels",default_value:"40"},navigationSvgColor:{type:"string",default_value:"#161616"},leftNavigationButtonBackground:{type:"string",default_value:"transparent",disable_if:e=>"gutters"!==e.navButtonsPosition&&"overMatches"!==e.navButtonsPosition},rightNavigationButtonBackground:{type:"string",default_value:"transparent",disable_if:e=>"gutters"!==e.navButtonsPosition&&"overMatches"!==e.navButtonsPosition},leftNavigationButtonHTML:{type:"multiline_string",default_value:'\n            <svg class="default-navigation-svg" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z"/></svg>\n        '},rightNavigationButtonHTML:{type:"multiline_string",default_value:'\n            <svg class="default-navigation-svg" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z"/></svg>\n        '}},FONTS_OPTIONS:{rootFontFamily:{type:"string",default_value:"Open Sans, Roboto, sans-serif"},roundTitlesFontFamily:{type:"string",default_value:"inherit"},roundTitlesFontSize:{type:"pixels",default_value:30,min_value:8},matchTextColor:{type:"string",default_value:"#000"},matchFontSize:{type:"pixels",default_value:16,min_value:8},playerTitleFontFamily:{type:"string",default_value:"inherit"},highlightedPlayerTitleColor:{type:"string",default_value:"#003ae6"},scoreFontFamily:{type:"string",default_value:"inherit"}},CONNECTION_LINES_OPTIONS:{connectionLinesWidth:{type:"pixels",default_value:2,min_value:0},connectionLinesColor:{type:"string",default_value:"#dcdcdc"},highlightedConnectionLinesColor:{type:"string",default_value:"#7698ff"}},MATCH_OPTIONS:{getMatchElement:{type:"function_or_null",default_value:null},getNationalityHTML:{type:"function_or_null",default_value:null},getEntryStatusHTML:{type:"function_or_null",default_value:null},getPlayerTitleHTML:{type:"function_or_null",default_value:null},getScoresHTML:{type:"function_or_null",default_value:null},matchMaxWidth:{type:"string",default_value:"unset"},matchMinVerticalGap:{type:"pixels",default_value:25},matchHorMargin:{type:"pixels",default_value:20},matchAxisMargin:{type:"pixels",default_value:4},oneSidePlayersGap:{type:"pixels",default_value:2},liveMatchBorderColor:{type:"string",default_value:"#44c985"},liveMatchBackgroundColor:{type:"string",default_value:"transparent"},distanceBetweenScorePairs:{type:"pixels",default_value:14,min_value:0},matchStatusBackgroundColor:{type:"string",default_value:"#fff"},hoveredMatchBorderColor:{type:"string",default_value:"#dcdcdc"}},CALLBACKS:{onMatchClick:{type:"function_or_null",default_value:null},onMatchSideClick:{type:"function_or_null",default_value:null}}},M=()=>{const e={};return Object.values(L).forEach((t=>Object.assign(e,t))),e},T=(e,t)=>{console.warn(`Impossible value provided for "${e}" option: %c${JSON.stringify(t,null,2)}%c.\nDefault value of %c${(()=>{const e={};return Object.entries(M()).forEach((([t,{default_value:n}])=>{e[t]=n})),e})()[e]}%c will be used instead`,"background: #c7ffc9; color: black; padding: 0 3px","","background: pink; color: black; padding: 0 3px","")},C=(e,t,n)=>n?!!((e,t)=>{switch(t.type){case"number":case"pixels":return i(e);case"multiline_string":case"string":return"string"==typeof e;case"function_or_null":return"function"==typeof e||null===e;case"boolean":return"boolean"==typeof e;case"select":return t.options?.find((t=>r(t)?t.value===e:t===e))}})(t,n)||(T(e,t),!1):(console.warn(`Unknown option provided: %c${e}`,"background: pink; color: black; font-weight: bold; padding: 0 3px;"),!1),E=()=>{let e={};const t=M();return{try_merge_options:n=>{void 0!==n&&(r(n)?Object.entries(n).forEach((([n,o])=>{const r=t[n];C(n,o,r)&&(e[n]=o)})):console.warn("options must be an object, instead got",typeof n))},get_final_value:n=>((e,t,n)=>{const o=n[e];if(void 0===o)return void console.warn("Impossible option name passed to get_final_value: ",e);const r=t[e],i=void 0!==r?r:o.default_value;return"number"!==o.type&&"pixels"!==o.type||"number"!=typeof o.min_value?i:Math.max(i,o.min_value)})(n,e,t),get_user_options:()=>e}},B=(e,t)=>{const n=e.matches_positioner.querySelectorAll(".round-wrapper"),o=t("visibleRoundsCount");if(void 0!==o&&o>=1)return Math.min(n.length,o);{const o=e.content_area.getBoundingClientRect().width/n[0].getBoundingClientRect().width;return isNaN(o)?0:t("displayWholeRounds")?Math.floor(o):o}},k=(e,t,n)=>{const o=e.matches_positioner.querySelectorAll(".round-wrapper");return t+1.01*B(e,n)>=o.length},A=(e,t,n)=>{t.set(t.get());let r=0;if(!n("useClassicalLayout")&&!n("resetScrollOnNavigation")){r=(e.matches_vertical_scroller.scrollTop+e.matches_vertical_scroller.clientHeight/2)/e.matches_vertical_scroller.scrollHeight}const i=[...e.matches_positioner.querySelectorAll(".round-wrapper")];i.forEach(((e,n)=>{const o=n>=Math.floor(t.get());e.classList[o?"remove":"add"]("collapsed")})),e.content_horizontal_scroller.style.width="";const a=B(e,n);if(e.content_horizontal_scroller.style.width=100/a*i.length+"%",e.content_horizontal_scroller.style.marginLeft=-t.get()*(100/a)+"%",n("resetScrollOnNavigation"))e.matches_vertical_scroller.scrollTop=0;else if(!n("useClassicalLayout")){const t=e.matches_vertical_scroller.scrollHeight*r;e.matches_vertical_scroller.scrollTop=o(t-e.matches_vertical_scroller.clientHeight/2,0,e.matches_vertical_scroller.scrollHeight-e.matches_vertical_scroller.clientHeight)}((e,t,n)=>{const o=k(e,t,n),r=0===t&&o;e.the_root_element.querySelectorAll(".navigation-button.left").forEach((e=>{t>0?e.classList.add("active"):e.classList.remove("active"),r?e.classList.add("hidden"):e.classList.remove("hidden")})),e.the_root_element.querySelectorAll(".navigation-button.right").forEach((e=>{o?e.classList.remove("active"):e.classList.add("active"),r?e.classList.add("hidden"):e.classList.remove("hidden")}))})(e,t.get(),n),v.full_update(e,n)},H=(e,t)=>{let n=0;const r=r=>{n=o(r,0,((e,t)=>e.matches_positioner.querySelectorAll(".round-wrapper").length-Math.floor(1.01*B(e,t)))(e,t))};return{set:r,try_decrement:()=>r(n-1),try_increment:()=>r(n+1),get:()=>n}},I=(e,t)=>{const o=f(e),r=H(o,t),i=()=>A(o,r,t);i(),((e,t)=>{let o=!1;new ResizeObserver(n((()=>{o?t():o=!0}))).observe(e)})(o.content_area,i);const a=()=>{r.try_decrement(),i()},s=()=>{k(o,r.get(),t)||(r.try_increment(),i())};return document.addEventListener("load",n((t=>{t.path&&t.path[0]?.closest(`#${e} .content-area`)&&t.path[0]instanceof HTMLImageElement&&(""===t.path[0]?.style.width||""===t.path[0]?.style.height)&&i()}),300),!0),{move_left:a,move_right:s,set_base_round_index:e=>{r.set(e),i()},repaint:i,handle_click:e=>{e.target.classList.contains("active")&&(e.target.classList.contains("left")&&a(),e.target.classList.contains("right")&&s())},get_state:()=>{let n=!1,i=!1,a=0;if(null!==f(e)){const e=r.get();n=k(o,e,t),i=0===e&&n,a=e}return{lastRoundIsFullyVisible:n,allRoundsAreVisible:i,baseRoundIndex:a}}}},z=(e,t)=>{l(e,"general-styles",(e=>`\n\n    ${e("fullscreen")?(e=>`\n    ## {\n        position: fixed;\n        z-index: 4;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        background-color: ${e("fullscreenBgColor")};\n\n        -webkit-backdrop-filter: blur(3px);\n        backdrop-filter: blur(3px);\n        \n        transition: opacity 0.3s ease-out;\n    }\n\n    ## .fullscreen-wrapper {\n        max-height: 100vh;\n    }\n\n    ## .exit-fullscreen-button {\n        display: flex;\n        width: calc((100vw - ${e("width")}) / 2 - 8px); /* 8px is approx scrollbar width in Chrome */\n        height: calc((100vh - ${e("height")}) / 2);\n    }\n    \n    ## .exit-fullscreen-button .circle-button {\n        background: ${e("rootBgColor")};\n    }\n`)(e):""}\n\n    ## .fullscreen-wrapper {\n        background-color: ${e("rootBgColor")};\n        border-color: ${e("mainBorderColor")};\n        width: ${e("width")};\n        height: ${e("height")};\n    }\n    \n    ## .round-titles-wrapper {\n        height: ${e("roundTitlesHeight")}px;\n        font-size: ${e("roundTitlesFontSize")}px;\n        font-family: ${e("roundTitlesFontFamily")||e("rootFontFamily")};\n        color: ${e("roundTitleColor")};\n    }\n    \n    ## .round-titles-wrapper:after {\n        border-bottom: 1px solid ${e("roundTitlesBorderBottomColor")};\n    }\n\n    ## .matches-positioner {\n        min-height: calc(100% - ${2*e("mainVerticalPadding")}px);\n        margin-top: ${e("mainVerticalPadding")||0}px;\n        margin-bottom: ${e("mainVerticalPadding")||0}px;\n        font-size: ${e("matchFontSize")}px;\n    }\n\n    ## .scrollbar-parent {\n        display: ${!0===e("showScrollbar")?"block":"none"};\n        width: ${e("scrollbarWidth")}px;\n        top: ${e("roundTitlesHeight")}px;\n    }\n\n    ## .scrollbar {\n        background: ${e("scrollbarColor")};\n    }\n`)(t).replace(/##/g,`#${e}`)),l(e,"buttons-styles",(e=>{const t="gutters"===e("navButtonsPosition"),n="beforeTitles"===e("navButtonsPosition"),o="overTitles"===e("navButtonsPosition"),r="hidden"===e("navButtonsPosition");return`\n\n\n        ## .buttons-header {\n            display: ${n||o?"flex":"none"};\n            border-bottom-color: ${e("navigationGutterBorderColor")};\n            ${o?`\n                    position: absolute;\n                    z-index: 1;\n                    left: 0px;\n                    right: 0px;\n                    height: ${parseInt(e("roundTitlesHeight"))+1}px;\n                `:""}\n        }\n\n        ## .navigation-button.non-header-button {\n            position: ${t?"static":"absolute"};\n            top: ${e("navigationButtonsTopDistance")};\n            transform: ${t?"none":"translate(0, -50%)"};\n            min-height: ${t?"100%":"0"};\n        }\n\n        ## .navigation-button.non-header-button:not(.hidden) {\n            display: ${r||n||o?"none":"flex"};\n        }\n\n        ## .navigation-button.non-header-button.left {\n            background: ${e("leftNavigationButtonBackground")};\n            border-right-color: ${t?e("navigationGutterBorderColor"):"transparent"};\n        }\n        ## .navigation-button.non-header-button.right {\n            background: ${e("rightNavigationButtonBackground")};\n            border-left-color: ${t?e("navigationGutterBorderColor"):"transparent"};\n        }\n        ## .navigation-button svg {\n            fill: ${e("navigationSvgColor")};\n        }\n           \n        ## .default-navigation-svg {\n            padding: ${e("defaultNavigationSvgSize")/6}px ${e("defaultNavigationSvgSize")/12}px;\n            width: ${e("defaultNavigationSvgSize")}px;\n        }\n    `})(t).replace(/##/g,`#${e}`)),l(e,"rounds-styles",(e=>{const t="function"==typeof e("onMatchSideClick")||!0!==e("disableHighlight");return`\n        ## {\n            font-family: ${e("rootFontFamily")};\n        }\n\n\n\n\n\n        ## .match-wrapper {\n            padding-top: ${e("matchMinVerticalGap")/2}px;\n            padding-bottom: ${e("matchMinVerticalGap")/2}px;\n            padding-left: ${e("matchHorMargin")}px;\n            padding-right: ${e("matchHorMargin")}px;\n        }\n\n\n\n        ## .round-wrapper .match-body {\n            max-width: ${e("matchMaxWidth")};\n        }\n\n        ## .round-wrapper .match-body:not(:empty) {\n            border: ${e("connectionLinesWidth")}px solid transparent;\n        }\n\n\n\n        ## .matches-positioner .round-wrapper.collapsed {\n            visibility: hidden;\n            ${!0!==e("useClassicalLayout")?"height: 0; overflow: hidden;":""}\n        }\n\n\n\n        ## .match-body .sides {\n            border: ${e("connectionLinesWidth")}px solid transparent;\n            grid-row-gap: ${e("connectionLinesWidth")}px;\n        }\n\n        ## .match-body .match-status {\n            font-size: ${Math.floor(.85*e("matchFontSize"))}px;\n            background: #fff;\n            padding: ${Math.floor(e("matchFontSize")/6)}px ${Math.floor(e("matchFontSize")/2)}px;\n            margin: ${Math.floor(e("matchFontSize")/2)}px;\n            border-style: solid;\n            border-width: ${e("connectionLinesWidth")}px;\n            border-color: transparent;\n            border-color: ${e("connectionLinesColor")};\n            box-shadow: 0 0 0 1000px ${e("matchStatusBackgroundColor")} inset;\n        }\n\n        ## .match-wrapper.highlighted .match-body .match-status {\n            border-color: ${e("highlightedConnectionLinesColor")};\n        }\n\n        ${e("onMatchClick")?`\n                ## .match-wrapper .match-body {\n                    cursor: pointer;\n                }\n                ## .match-wrapper .match-body * {\n                    pointer-events: none; /* handle click/hover only on whole body */\n                }\n                ## .match-wrapper .match-body:hover,\n                ## .match-wrapper.live .match-body:hover {\n                    border-color: ${e("hoveredMatchBorderColor")};\n                }\n                ## .match-wrapper .match-body:hover .player-title {\n                    color: ${e("highlightedPlayerTitleColor")};\n                }\n            `:""}\n\n\n\n\n\n\n\n\n\n\n\n\n        \n        \n    /* LINES */\n\n    /* regular lines */\n        /* for marginal rounds paddings - padding to lines-areas */\n\n        ## .round-wrapper:first-of-type .match-lines-area {\n            left: ${e("matchHorMargin")}px;\n        }\n        ## .round-wrapper:last-of-type .match-lines-area {\n            right: ${e("matchHorMargin")}px;\n        }\n\n        ## .match-wrapper .match-lines-area .line-wrapper {\n            color: ${e("connectionLinesColor")}; /* for box-shadow color, not text */\n        }\n\n        ## .match-wrapper.highlighted .match-lines-area .line-wrapper {\n            color: ${e("highlightedConnectionLinesColor")}; /* for box-shadow color, not text */\n        }\n\n        ## .match-wrapper.odd .line-wrapper.upper {\n            box-shadow: ${e("connectionLinesWidth")}px 0px 0px 0px;\n            border-bottom: ${e("connectionLinesWidth")}px solid ${e("connectionLinesColor")};\n        }\n        ## .match-wrapper.even .line-wrapper.lower {\n            box-shadow: ${e("connectionLinesWidth")}px 0px 0px 0px;\n            border-top: ${e("connectionLinesWidth")}px solid ${e("connectionLinesColor")};\n        }\n\n    /* highlighted lines */\n        ## .match-wrapper.highlighted .line-wrapper {\n            border-color: ${e("highlightedConnectionLinesColor")} !important;\n        }\n        ## .match-wrapper.last-highlighted .line-wrapper {\n            color: ${e("connectionLinesColor")} !important;\n        }\n\n\n\n        ## .side-wrapper.highlighted .player-title {\n            color: ${e("highlightedPlayerTitleColor")};\n        }\n\n\n\n\n        ${t?`\n                ## .side-wrapper {\n                    cursor: pointer;\n                }\n                ## .side-wrapper:hover .player-title {\n                    color: ${e("highlightedPlayerTitleColor")};\n                }\n            `:""}\n\n        ## .side-wrapper {\n            padding-top: ${e("matchAxisMargin")}px;\n            padding-bottom: ${e("matchAxisMargin")}px;\n            padding-right: ${Math.floor(e("matchFontSize")/3*2)}px;\n            padding-left: ${Math.floor(e("matchFontSize")/2)}px;\n            color: ${e("matchTextColor")}; /* difined at this depth because on upper levels color property is used for box-shadow tricks */\n        }\n\n        ## .match-wrapper.live .match-body {\n            border-color: ${e("liveMatchBorderColor")};\n            background-color: ${e("liveMatchBackgroundColor")};\n        }\n\n\n        ## .side-info-item.entry-status:not(:empty) {\n            margin-right: ${e("matchFontSize")/2}px;\n        }\n\n        ## .side-info-item.players-info {\n            grid-row-gap: ${e("oneSidePlayersGap")}px;\n        }\n\n        ## .player-wrapper .nationality:not(:empty) {\n            margin-right: ${e("matchFontSize")/2}px;\n        }\n\n        ## .player-wrapper .player-title {\n            padding-right: ${1.5*e("matchFontSize")}px;\n            font-family: ${e("playerTitleFontFamily")||e("rootFontFamily")};\n        }\n\n\n        ## .side-info-item.winner-mark {\n            padding-right: ${e("distanceBetweenScorePairs")}px;\n        }\n        ## .side-wrapper:not(.winner) .winner-mark {\n            display: none;\n        }\n\n        ## .side-info-item.serving-mark {\n            width: ${e("matchFontSize")/2.5}px;\n            height: ${e("matchFontSize")/2.5}px;\n            margin-left: ${Math.floor(.8*e("distanceBetweenScorePairs"))}px;\n        }\n\n        ## .side-info-item.side-scores {\n            font-family: ${e("scoreFontFamily")||e("rootFontFamily")};\n            grid-column-gap: ${e("distanceBetweenScorePairs")}px;\n        }\n\n        ## .subscore {\n            font-size: ${Math.floor(e("matchFontSize")/3*2)}px;\n            margin-top: -${Math.floor(e("matchFontSize")/5)}px;\n            margin-right: -${Math.floor(e("matchFontSize")/5)}px;\n        }\n\n        ## .side-info-item.current_score {\n            border-color: ${e("matchTextColor")};\n            padding: 0 ${Math.floor(e("matchFontSize")/3)}px;\n            margin-left: ${Math.floor(.8*e("distanceBetweenScorePairs"))}px;\n        }\n\n        ## .match-wrapper.live .side-info-item.current_score {\n            border-color: ${e("liveMatchBorderColor")};\n        }\n\n        ## svg.default-winner-svg {\n            height: ${e("matchFontSize")}px;\n        }\n    `})(t).replace(/##/g,`#${e}`))},F=e=>i(e)||"string"==typeof e,N=(e,t)=>{const n=F(e?.mainScore)?e.mainScore:"",o=F(e?.subscore)?`<span class="subscore">${e.subscore}</span>`:"",r=F(t?.mainScore)?t.mainScore:"",i=F(t?.subscore)?`<span class="subscore">${t.subscore}</span>`:"";return`<div class="single-score-wrapper ${e?.isWinner?"winner":""}">\n            <div class="side-own-single-score">\n                <span class="main-score">${n}</span>\n                ${o}\n            </div>\n            <span class="opponent-single-score">\n                <span class="main-score">${r}</span>\n                ${i}\n            </span>\n        </div>`.replace(/>\s+</g,"><")},O=(e,t,n,o)=>{if("function"==typeof t)try{const e=t(...n);if("string"==typeof e)return e;throw`options.${o} must return a string, instead returned: ${e}`}catch(e){console.warn(`Failed to get a string from ${o}.`,e)}const r=e();return"string"==typeof r?r.trim():""},P=(e,t,n)=>{if("function"==typeof e)try{const o=e(...t);if(o instanceof Element||null===o)return o;throw`options.${n} must return an Element or null, instead returned: ${o}`}catch(e){console.warn(`Failed to get a valid return from ${n}.`,e)}},j=(e,t)=>`<div class="player-wrapper">\n        <div class="nationality">${e}</div>\n        <div class="player-title">${t}</div>\n    </div>`,R=(e,t,n,o)=>{const i=e.sides?.[t],a=e.sides?.[1===t?0:1];let l="",d="",p="",u="",h="",g="",f="",m="hidden",v="transparent";if(r(i)){!0===i.isWinner&&(d="winner"),"string"==typeof i.contestantId&&(p=`contestant-id="${i.contestantId}"`),"string"!=typeof i.contestantId&&"string"==typeof i.title&&(h=j("",i.title)),g=O((()=>((e,t)=>{const n=r(e)&&Array.isArray(e.scores)?e.scores:[],o=r(t)&&Array.isArray(t.scores)?t.scores:[],i=Math.max(n.length,o.length);return s(i,(e=>N(n[e],o[e]))).join("")})(i,a)),o("getScoresHTML"),[c(i),c(e)],"getScoresHTML"),r(i.current_score)&&(f=N(i.current_score,a?.current_score)),!0!==i.isServing&&!0!==a?.isServing||(m=""),!0===i.isServing&&(v="");let t=n.contestants?.[i.contestantId];if(t){let r={roundIndex:e.roundIndex,matchOrder:e.order,contestantId:i.contestantId};const a=n.contestants[r.contestantId].entryStatus;u=O((()=>a),o("getEntryStatusHTML"),[a,r],"getEntryStatusHTML"),h=(t.players||[]).map(((e,t)=>((e,t,n,o)=>{const r=O((()=>e.nationality),o("getNationalityHTML"),[e,t],"getNationalityHTML"),i=O((()=>e.title),o("getPlayerTitleHTML"),[c(e),t],"getPlayerTitleHTML");return j(r,i)})(e,{...r,playerIndex:t},0,o))).join("")}}return a&&!0===a.isWinner&&(l="looser"),`\n        <div class="side-wrapper ${l} ${d}"  ${p}>\n            <div class="side-info-item entry-status">${u}</div>\n            <div class="side-info-item players-info">${h}</div>\n            <div class="side-info-item winner-mark"><svg class="default-winner-svg" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path xmlns="http://www.w3.org/2000/svg" d="M21 6.285l-11.16 12.733-6.84-6.018 1.319-1.49 5.341 4.686 9.865-11.196 1.475 1.285z"/></svg></div>\n            <div class="side-info-item side-scores">${g}</div>\n            <div class="side-info-item current_score">${f}</div>\n            <div class="side-info-item serving-mark ${m} ${v}"></div>\n        </div>\n    `},W=(e,t,n,o)=>{const i=n.matches?.find((n=>n.roundIndex===e&&n.order===t)),s=Array.isArray(i?.sides)&&i?.sides.length&&!0===i?.isLive&&"function"!=typeof o("getMatchElement"),l=a(`\n        <div\n            class="\n                match-wrapper\n                ${s?"live":""}\n                ${t%2==0?"even":"odd"}\n            "\n            match-order="${t}"\n        >\n            <div class="match-lines-area">\n                <div class="line-wrapper upper"></div>\n                <div class="line-wrapper lower"></div>\n            </div>\n        </div>\n    `);return l.prepend(((e,t,n,o,i)=>{const s=a('<div class="match-body"></div>'),l=P(i("getMatchElement"),[n,o],"getMatchElement");return l instanceof Element?(s.append(l),s):null===l||void 0===e?"":(Array.isArray(e.sides)&&e.sides.find((e=>r(e)&&Object.keys(e).length>0))&&(s.innerHTML+=`\n            <div class="sides">\n                ${R(e,0,t,i)}\n                ${R(e,1,t,i)}\n            </div>\n        `),"string"==typeof e.matchStatus&&e.matchStatus.length&&(s.innerHTML+=`<div class="match-status">${e.matchStatus}</div>`),s)})(i,n,e,t,o)),l},q=(e,t)=>e.rounds.map(((n,o)=>{const r=document.createElement("div");r.className="round-title";const i=P(t("getRoundTitleElement"),[c(n),o],"getRoundTitleElement");var a,s;return i instanceof Element?r.append(i):r.innerHTML=n.name||(a=e.rounds.length,(s=o)===a-1?"Final":s===a-2?"Semifinals":s===a-3?"Quarterfinals":`1/${Math.pow(2,a-s-1)}`),r})),D=(e,t,n)=>{t.round_titles_wrapper.innerHTML="",t.round_titles_wrapper.append(...q(e,n)),t.matches_positioner.innerHTML="";const o=[];e.rounds.forEach(((t,r)=>{o.push(((e,t,n)=>{const o=a('<div class="round-wrapper"></div>');o.setAttribute("round-index",t);const r=Math.pow(2,e.rounds.length-1-t),i=s(r,(o=>W(t,o,e,n)));return o.append(...i),o})(e,r,n))})),t.matches_positioner.append(...o)},G=(e,t,n,o)=>{t.try_merge_options(e),o.the_root_element.querySelectorAll(".navigation-button.left").forEach((e=>e.innerHTML=t.get_final_value("leftNavigationButtonHTML"))),o.the_root_element.querySelectorAll(".navigation-button.right").forEach((e=>e.innerHTML=t.get_final_value("rightNavigationButtonHTML"))),z(n,t.get_final_value)},V=(e,n)=>{const{have_critical_error:o}=t((e=>{if(!r(e))return[{is_critical:!0,message:"Data must be an object, instead got: ",data:e}];if(!Array.isArray(e.rounds))return[{is_critical:!0,message:'Data must contain "rounds" property and it must be an array: ',data:e.rounds}];if(!e.rounds.length)return[{is_critical:!0,message:"At least one round should be provided"}];const t=[];e.rounds.forEach((e=>{r(e)||t.push({is_critical:!0,message:"data.rounds may contain only objects: ",data:e}),void 0!==e.name&&"string"!=typeof e.name&&t.push({is_critical:!1,message:"round.name must be a string: ",data:e})}));const n=p(e.matches,e.contestants);return t.push(...n),void 0===e.contestants||r(e.contestants)||t.push({is_critical:!0,message:"data.contestants must be an object which maps ids to contestants, instead got: ",data:e.contestants}),r(e.contestants)&&Object.values(e.contestants).forEach((e=>{r(e)||t.push({is_critical:!0,message:"Contestant must be an object, instead got: ",data:e}),void 0!==e.entryStatus&&"string"!=typeof e.entryStatus&&t.push({is_critical:!1,message:"If entryStatus is provided for a contestant, it must be a string: ",data:e}),void 0===e.players?t.push({is_critical:!1,message:"contestant.players is required: ",data:e}):Array.isArray(e.players)?0===e.players.length?t.push({is_critical:!1,message:"contestant.players must contain at least one element: ",data:e}):e.players.forEach((e=>{r(e)||t.push({is_critical:!0,message:"contestant.players array must contain only objects: ",data:e}),"string"!=typeof e.title&&t.push({is_critical:!1,message:"Player must have a title, and it must be a string, instead got: ",data:e}),void 0!==e.nationality&&"string"!=typeof e.nationality&&t.push({is_critical:!1,message:"If nationality is provided for a player, it must be a string: ",data:e})})):t.push({is_critical:!0,message:"contestant.players must be an array: ",data:e})})),t})(n));return!o&&(Object.keys(e).forEach((t=>delete e[t])),Object.assign(e,c(n)),!0)},U=(e,n,o)=>{let s=!1,d=E();const m="id"+Math.random().toString(16).slice(2);let v={};const b={moveToPreviousRound:()=>{},moveToNextRound:()=>{},moveToLastRound:()=>{},setBaseRoundIndex:()=>{},getNavigationState:()=>{},applyNewOptions:()=>{},replaceData:()=>{},applyMatchesUpdates:()=>{},getAllData:()=>c(e||{}),getUserOptions:()=>c(o),highlightContestantHistory:()=>{},uninstall:()=>{}};if(!(n&&n instanceof Element&&n.closest("html")))return console.warn("Could not install playoffs because invalid element is provided: ",n),b;let _=((e,t)=>{[...e.querySelectorAll(":scope > .playoffs-root")].forEach((e=>e.remove())),l("root","permanent-styles",[u,h,g].join("\n"));const n=a(`\n        <div class="playoffs-root" id=${t}>\n            <div class="exit-fullscreen-button">\n                <div class="circle-button">\n                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M23 20.168l-8.185-8.187 8.185-8.174-2.832-2.807-8.182 8.179-8.176-8.179-2.81 2.81 8.186 8.196-8.186 8.184 2.81 2.81 8.203-8.192 8.18 8.192z"/></svg>\n                </div>\n            </div>\n            <div class="fullscreen-wrapper">\n                <div class="buttons-header">\n                    <div class="navigation-button left"></div>\n                    <div class="navigation-button right"></div>\n                </div>\n                <div class="all-but-buttons-header">\n                    <div class="navigation-button non-header-button left"></div>\n                    <div class="content-area">\n                        <div class="content-horizontal-scroller">\n                            <div class="round-titles-wrapper  equal-width-columns-grid"></div>\n                            <div class="matches-vertical-scroller with-hidden-scrollbar">\n                                <div class="matches-positioner equal-width-columns-grid"></div>\n                            </div>\n                        </div>\n                        <div class="scrollbar-parent">\n                            <div class="scrollbar"></div>\n                        </div>\n                    </div>\n                    <div class="navigation-button non-header-button right"></div>\n                </div>\n            </div>\n        </div>\n    `);return e.append(n),f(t)})(n,m);G(o,d,m,_);if(!V(v,e))return b;s=!0,D(v,_,d.get_final_value);let w=I(m,d.get_final_value);_.the_root_element.style.opacity=1,_.the_root_element.style.visibility="visible";const x=()=>{null!==_&&(Object.keys(_).forEach((e=>{_[e].remove(),delete _[e]})),_=null),$.uninstall(),d=null,v=null,e=null,w=null,s=!1},$=S(v,d.get_final_value,_,w,x);return{moveToPreviousRound:()=>s&&w.move_left(),moveToNextRound:()=>s&&w.move_right(),moveToLastRound:()=>s&&w.set_base_round_index(1/0),setBaseRoundIndex:e=>{if(i(e))return s&&w.set_base_round_index(e);console.warn("setBaseRoundIndex accepts only numbers, instead got: ",e)},getNavigationState:w.get_state,applyNewOptions:e=>{if(!s)return;const t=M(),n={};r(e)&&Object.entries(e).forEach((([e,o])=>{"function_or_null"===t[e]?.type||!0===t[e].non_updatable?console.warn(`${e} option can't be updated via applyNewOptions`):n[e]=o})),G(n,d,m,_),w.repaint()},replaceData:e=>{if(!s)return;V(v,e)?(D(v,_,d.get_final_value),w.set_base_round_index(0),w.repaint(),_.matches_vertical_scroller.scrollTop=0):console.warn("Failed to apply new data")},applyMatchesUpdates:e=>{if(!s)return;if(!Array.isArray(v.matches))return;if(!Array.isArray(e))return void console.warn("applyMatchesUpdates must be called with an array of matches, instead called with: ",e);const{have_critical_error:n}=t(p(e,v.contestants));n||(e.forEach((e=>{if(!i(e.order)||!i(e.roundIndex))return;const t=v.matches.findIndex((t=>t.roundIndex===e.roundIndex&&t.order===e.order));-1===t?v.matches.push(e):Object.assign(v.matches[t],e);const n=document.querySelectorAll(`#${m} .round-wrapper`)[e.roundIndex]?.querySelectorAll(".match-wrapper")[e.order];n&&n.replaceWith(W(e.roundIndex,e.order,v,d.get_final_value))})),w.repaint())},getAllData:()=>c(v||{}),getUserOptions:()=>c(d?.get_user_options()||{}),highlightContestantHistory:e=>{s&&y(_.matches_positioner,e)},uninstall:x}};export{U as createPlayoffs};
//# sourceMappingURL=index.js.map
