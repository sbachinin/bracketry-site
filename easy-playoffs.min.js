const t=(t,e)=>{console.warn(`Incorrect data. %c${t}`,"padding: 0 5px; color: #b90000; background: #ffff81",e)},e=e=>{if(!e.length)return{have_errors:!1,have_critical_error:!1};const n=e.find((t=>t.is_critical));return n?(t(n.message,n.data||""),{have_errors:!0,have_critical_error:!0}):(t(e[0].message,e[0].data||""),{have_errors:!0,have_critical_error:!1})},n=(t,e=300)=>{let n;return(...i)=>{clearTimeout(n),n=setTimeout((()=>{t.apply(void 0,i)}),e)}},i=(t,e,n)=>Math.max(Math.min(t,n),e),o=t=>"object"==typeof t&&!Array.isArray(t)&&null!==t,a=t=>"number"==typeof t&&!isNaN(t),r=t=>{if("string"!=typeof t)return console.warn("create_element_from_Html expects an html string, instead got: ",t),document.createElement("div");const e=document.createElement("div");return e.innerHTML=t.trim(),e.firstElementChild?e.firstElementChild:(console.warn(`create_element_from_Html: failed to create an element from string: "${t}"`),document.createElement("div"))},s=(t,e)=>Array.from(Array(t)).map(((t,n)=>e(n))),l=(t,e,n)=>{const i=document.head.querySelector(`#${t}-${e}`);i&&document.head.removeChild(i),((t,e,n)=>{document.head.insertAdjacentHTML("beforeend",`<style id='${t}-${e}'>${n}</style>`)})(t,e,n)},c=t=>{if(null===t||"object"!=typeof t)return t;let e=new t.constructor;for(let n in t)t.hasOwnProperty(n)&&(e[n]=c(t[n]));return e},d=(t,e)=>{const n=[];return o(t)?(void 0===t.mainScore&&n.push({is_critical:!1,message:'Score must contain a "mainScore" property',data:e}),a(t.mainScore)||"string"==typeof t.mainScore||n.push({is_critical:!1,message:"mainScore must be a number or a string",data:e}),void 0===t.subscore||a(t.subscore)||"string"==typeof t.subscore||n.push({is_critical:!1,message:'If you provide "subscore", it must be a number or a string',data:e}),"boolean"!=typeof t.isWinner&&void 0!==t.isWinner&&n.push({is_critical:!1,message:'If you provide "isWinner", it must be a boolean',data:e})):n.push({is_critical:!1,message:"Score must be an object",data:e}),n},u=(t,e)=>{const n=[];return void 0===t||Array.isArray(t)||n.push({is_critical:!0,message:"data.matches must be an array, instead got",data:t}),t&&t.length&&t.forEach((t=>{o(t)||n.push({is_critical:!0,message:"Expected a match object, instead got",data:t}),a(t.roundIndex)||n.push({is_critical:!1,message:"Match must contain .roundIndex property and it must be a number",data:t}),a(t.order)||n.push({is_critical:!1,message:"Match.order property is required, and it must be a number",data:t}),void 0!==t.matchStatus&&"string"!=typeof t.matchStatus&&n.push({is_critical:!1,message:"Match.matchStatus must be a string",data:t}),void 0!==t.isLive&&"boolean"!=typeof t.isLive&&n.push({is_critical:!1,message:"Match.isLive must be a boolean",data:t}),void 0===t.sides||Array.isArray(t.sides)||n.push({is_critical:!0,message:"Match.sides is required and must be an array",data:t}),Array.isArray(t.sides)&&t.sides.forEach((i=>{o(i)?(void 0!==i.contestantId&&"string"!=typeof i.contestantId&&n.push({is_critical:!0,message:"If you provide side.contestantId, it must be a string",data:i}),"string"!=typeof i.contestantId||Object.keys(e||{}).includes(i.contestantId)||n.push({is_critical:!1,message:"No contestant data found for this side.contestantId",data:i}),void 0!==i.isWinner&&"boolean"!=typeof i.isWinner&&n.push({is_critical:!1,message:"If you provide side.isWinner, it must be a boolean",data:i}),void 0===i.scores||Array.isArray(i.scores)||n.push({is_critical:!0,message:"If side.scores is provided, it must be an array",data:i}),Array.isArray(i.scores)&&!i.scores.length&&n.push({is_critical:!1,message:"side.scores is provided but it's an empty array: ",data:i}),Array.isArray(i.scores)&&i.scores.forEach((t=>{n.push(...d(t,i))})),void 0!==i.current_score&&n.push(...d(i.current_score,i)),void 0!==i.isServing&&"boolean"!=typeof i.isServing&&n.push({is_critical:!1,message:"If side.isServing is provided, it must be a boolean",data:i})):n.push({is_critical:!0,message:"Match's side must be an object",data:t})}))})),n},p=t=>{const e=document.querySelector(`#${t}`);if(!e)return null;const n=t=>e.querySelector(t);return{the_root_element:e,scrollbar:n(".scrollbar"),content_area:n(".content-area"),round_titles_wrapper:n(".round-titles-wrapper"),matches_vertical_scroller:n(".matches-vertical-scroller"),matches_positioner:n(".matches-positioner"),content_horizontal_scroller:n(".content-horizontal-scroller")}},h=((t,e)=>{let n=!0,i=null;return function o(){var a=this;n?(n=!1,setTimeout((function(){n=!0,i&&o.apply(a)}),e),i?(t.apply(this,i),i=null):t.apply(this,arguments)):i=arguments}})(((t,e)=>{if(!0!==e("showScrollbar"))return;const n=getComputedStyle(t.scrollbar);if("none"===n.display||"hidden"===n.visibility)return;const i=t.matches_vertical_scroller.scrollHeight;t.scrollbar.style.top=t.matches_vertical_scroller.scrollTop/i*100+"%",t.scrollbar.style.height=t.matches_vertical_scroller.clientHeight/i*100+"%"}),15),g={update_position:h,full_update:(t,e)=>{if(!0!==e("showScrollbar"))return;const n=t.matches_vertical_scroller.scrollHeight>t.matches_vertical_scroller.clientHeight;t.scrollbar.style.visibility=n?"visible":"hidden",h(t,e)}},m=(t,e)=>{if("string"!=typeof e&&null!==e)return;if([...t.querySelectorAll(".side-wrapper.highlighted")].forEach((t=>{t.classList.remove("highlighted"),t.closest(".match-wrapper").classList.remove("highlighted"),t.closest(".last-highlighted")?.classList.remove("last-highlighted")})),null===e||""===e)return;const n=[...t.querySelectorAll(`.side-wrapper[contestant-id="${e}"]`)];n.length&&(n[0].classList.contains("highlighted")||n.reverse().forEach(((t,e)=>{t.classList.add("highlighted"),t.closest(".match-wrapper").classList.add("highlighted"),0===e&&t.closest(".match-wrapper").classList.add("last-highlighted")})))},v=(t,e)=>{const n=+t.closest(".round-wrapper")?.getAttribute("round-index"),i=+t.closest(".match-wrapper")?.getAttribute("match-order");return e.matches?.find((t=>t.roundIndex===n&&t.order===i))||{roundIndex:+n,order:+i}},f=(t,e,i,o)=>{let a=null,r=null,s=!1;const{the_root_element:l,content_area:c,matches_vertical_scroller:d,scrollbar:u,matches_positioner:p}=i,h=n=>{if(0===n.button)if(n.target.classList.contains("navigation-button"))o.handle_click(n);else if(null===e("onMatchClick"))if(null===e("onMatchSideClick"))n.target.closest(".matches-positioner")&&(!0!==e("disableHighlight")&&n.target.closest(".side-wrapper[contestant-id]")?m(p,n.target.closest(".side-wrapper").getAttribute("contestant-id")):m(p,null));else{const i=n.target.closest(".side-wrapper");if(i){const o=v(n.target,t),a=i.getAttribute("contestant-id"),r=t.contestants?.[a];e("onMatchSideClick")(o,r,a)}}else if(n.target.classList.contains("match-body")){const i=v(n.target,t);e("onMatchClick")(i)}},f=t=>{0===t.button&&(s=!0,a=t.clientY,r=d.scrollTop,u.classList.contains("dragged")||u.classList.add("dragged"))},y=()=>{s=!1,a=null,r=null,u.classList.contains("dragged")&&u.classList.remove("dragged")},b=((t,e)=>{let n=!1;return(...i)=>{n||(t.apply(void 0,i),n=!0,setTimeout((()=>{n=!1}),e))}})((t=>{if(s){const e=(t.clientY-a)/c.clientHeight;d.scrollTop=r+e*d.scrollHeight}}),15),w=n((()=>{d.style.overflowY="scroll"}),200),_=()=>{d.style.overflowY="hidden",w()},x=()=>g.update_position(i,e);l.addEventListener("click",h),window.addEventListener("mouseup",y),window.addEventListener("mousemove",b),window.addEventListener("scroll",_),u.addEventListener("mousedown",f),d.addEventListener("scroll",x);return{uninstall:()=>{l?.removeEventListener("click",h),window.removeEventListener("scroll",_),window.removeEventListener("mouseup",y),window.removeEventListener("mousemove",b),u?.removeEventListener("mousedown",f),d.removeEventListener("scroll",x)}}},y={GENERAL_OPTIONS:{mainBorderColor:{title:"Main border color",type:"string",default_value:"#bbbbbb"},rootBackgroundColor:{title:"Root background color",type:"string",default_value:"transparent"},mainVerticalPadding:{title:"Main vertical padding (before first match and after last match)",type:"pixels",default_value:20,min_value:0},visibleRoundsCount:{title:"How many rounds to display (0 for 'auto', i.e. as much as possible). Only integers please",type:"number",default_value:0},displayWholeRounds:{title:"Display a whole number of rounds",type:"boolean",default_value:!1},useClassicalLayout:{title:"Use classical layout",type:"boolean",default_value:!1},showScrollbar:{title:"Should show scrollbar",type:"boolean",default_value:!0},scrollbarWidth:{title:"Scrollbar width",type:"pixels",default_value:"5"},scrollbarColor:{title:"Scrollbar color",type:"string",default_value:"#d3d3d3"},disableHighlight:{title:"Don't highlight contestant history on click",type:"boolean",default_value:!1}},ROUND_TITLE_OPTIONS:{getRoundTitleElement:{title:"Round title Element getter",type:"function_or_null",default_value:null},roundTitlesHeight:{title:"Round titles height",type:"pixels",default_value:"50"},roundTitlesBorderBottomColor:{title:"Round titles bottom border-color",type:"string",default_value:"#bbbbbb"},roundTitleColor:{title:"Round title color",type:"string",default_value:"#000"}},NAVIGATION_OPTIONS:{resetScrollOnNavigation:{title:"Reset vertical scroll on navigation?",type:"boolean",default_value:!1},navButtonsPosition:{title:"Navigation (switch rounds) buttons position",type:"select",options:[...Object.keys({overMatches:"left and right (on top of matches)",gutters:"left and right (in the gutters)",beforeTitles:"header (before round titles)",overTitles:"header (on top of round titles)",hidden:"hidden"})],default_value:"gutters"},navigationButtonsTopDistance:{title:"Navigation buttons distance from content top, in any units",type:"string",default_value:"50%",disable_if:t=>"overMatches"!==t.navButtonsPosition},navigationGutterBorderColor:{title:"Navigation gutter border color",type:"string",default_value:"#bbbbbb",disable_if:t=>"gutters"!==t.navButtonsPosition&&"overTitles"!==t.navButtonsPosition&&"beforeTitles"!==t.navButtonsPosition},defaultNavigationSvgSize:{title:"Default navigation arrow size",type:"pixels",default_value:"50"},navigationSvgColor:{title:"Navigation buttons svg color",type:"string",default_value:"#161616"},leftNavigationButtonBackground:{title:"Left navigation button background",type:"string",default_value:"transparent",disable_if:t=>"gutters"!==t.navButtonsPosition&&"overMatches"!==t.navButtonsPosition},rightNavigationButtonBackground:{title:"Right navigation button background",type:"string",default_value:"transparent",disable_if:t=>"gutters"!==t.navButtonsPosition&&"overMatches"!==t.navButtonsPosition},leftNavigationButtonHTML:{title:"Inner HTML of LEFT navigation button (<svg> / <img> / whatever)",type:"multiline_string",default_value:'\n            <svg class="default-navigation-svg" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z"/></svg>\n        '},rightNavigationButtonHTML:{title:"Inner HTML of RIGHT navigation button (<svg> / <img> / whatever)",type:"multiline_string",default_value:'\n            <svg class="default-navigation-svg" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z"/></svg>\n        '}},FONTS_OPTIONS:{rootFontFamily:{title:'Root font-family (applied to blocks with an "inherit" font-family)',type:"string",default_value:"Open Sans, Roboto, sans-serif"},roundTitlesFontFamily:{title:"Round titles font-family",type:"string",default_value:"inherit"},roundTitlesFontSize:{title:"Round titles font-size",type:"pixels",default_value:30,min_value:8},matchTextColor:{title:"Match text color",type:"string",default_value:"#000"},matchFontSize:{title:"Match font-size",type:"pixels",default_value:16,min_value:8},playerTitleFontFamily:{title:"Player title font family",type:"string",default_value:"inherit"},highlightedPlayerTitleColor:{title:"Highlighted player title color",type:"string",default_value:"#003ae6"},scoreFontFamily:{title:'Score font-family (provide "inherit" to use rootFontFamily option)',type:"string",default_value:"inherit"}},CONNECTION_LINES_OPTIONS:{connectionLinesWidth:{title:"Connection lines width",type:"pixels",default_value:2,min_value:0},connectionLinesColor:{title:"Connection lines color",type:"string",default_value:"#dcdcdc"},highlightedConnectionLinesColor:{title:"Highlighted connection lines color",type:"string",default_value:"#7698ff"}},MATCH_OPTIONS:{getMatchElement:{title:"Match Element getter",type:"function_or_null",default_value:null},getNationalityHTML:{title:"Nationality HTML getter",type:"function_or_null",default_value:null},getEntryStatusHTML:{title:"Entry status HTML getter",type:"function_or_null",default_value:null},getPlayerTitleHTML:{title:"Player title HTML getter",type:"function_or_null",default_value:null},getScoresHTML:{title:"Side scores HTML getter",type:"function_or_null",default_value:null},matchMaxWidth:{title:"Max match width",type:"string",default_value:"unset"},matchMinVerticalGap:{title:"Minimal vertical distance between matches",type:"pixels",default_value:25},matchHorMargin:{title:"Matches' horizontal margins",type:"pixels",default_value:"20"},matchAxisMargin:{title:"Vertical distance between match axis and each side of a match",type:"pixels",default_value:4},oneSidePlayersGap:{title:"Vertical distance between players of one side of a match (e.g. of tennis doubles)",type:"pixels",default_value:2},liveMatchBorderColor:{title:"Live match border color",type:"string",default_value:"#44c985"},liveMatchBackgroundColor:{title:"Live match background color",type:"string",default_value:"transparent"},distanceBetweenScorePairs:{title:"Distance between scores (e.g. between sets in tennis)",type:"pixels",default_value:14,min_value:0},matchStatusBackgroundColor:{title:"Background color of a match status badge",type:"string",default_value:"#fff"},hoveredMatchBorderColor:{title:"Hovered match border color (applied when options.onMatchClick is provided)",type:"string",default_value:"#dcdcdc"}},CALLBACKS:{onMatchClick:{title:"What happens when a user clicks on a match (JS function)",type:"function_or_null",default_value:null},onMatchSideClick:{title:"What happens when a user clicks on a side of a match (JS function)",type:"function_or_null",default_value:null}}},b=()=>{const t={};return Object.values(y).forEach((e=>Object.assign(t,e))),t},w=(t,e)=>{console.warn(`Impossible value provided for "${t}" option: %c${JSON.stringify(e,null,2)}%c.\nDefault value of %c${(()=>{const t={};return Object.entries(b()).forEach((([e,{default_value:n}])=>{t[e]=n})),t})()[t]}%c will be used instead`,"background: #c7ffc9; color: black; padding: 0 3px","","background: pink; color: black; padding: 0 3px","")},_=(t,e,n)=>n?!!((t,e)=>{switch(e.type){case"number":case"pixels":return a(t);case"multiline_string":case"string":return"string"==typeof t;case"function_or_null":return"function"==typeof t||null===t;case"boolean":return"boolean"==typeof t;case"select":return e.options?.find((e=>o(e)?e.value===t:e===t))}})(e,n)||(w(t,e),!1):(console.warn(`Unknown option provided: %c${t}`,"background: pink; color: black; font-weight: bold; padding: 0 3px;"),!1),x=()=>{let t={};const e=b();return{try_merge_options:n=>{void 0!==n&&(o(n)?Object.entries(n).forEach((([n,i])=>{const o=e[n];_(n,i,o)&&(t[n]=i)})):console.warn("options must be an object, instead got",typeof n))},get_final_value:n=>((t,e,n)=>{const i=n[t];if(void 0===i)return void console.warn("Impossible option name passed to get_final_value: ",t);const o=e[t],a=void 0!==o?o:i.default_value;return"number"!==i.type&&"pixels"!==i.type||"number"!=typeof i.min_value?a:Math.max(a,i.min_value)})(n,t,e),get_user_options:()=>t}},$=(t,e)=>{const n=t.matches_positioner.querySelectorAll(".round-wrapper"),i=e("visibleRoundsCount");if(void 0!==i&&i>=1)return Math.min(n.length,i);{const i=t.content_area.getBoundingClientRect().width/n[0].getBoundingClientRect().width;return e("displayWholeRounds")?Math.floor(i):i}},S=(t,e,n)=>{const i=t.matches_positioner.querySelectorAll(".round-wrapper");return e+1.01*$(t,n)>=i.length},M=(t,e,n)=>{e.set(e.get());let o=0;if(!n("useClassicalLayout")&&!n("resetScrollOnNavigation")){o=(t.matches_vertical_scroller.scrollTop+t.matches_vertical_scroller.clientHeight/2)/t.matches_vertical_scroller.scrollHeight}const a=[...t.matches_positioner.querySelectorAll(".round-wrapper")];a.forEach(((t,n)=>{const i=n>=Math.floor(e.get());t.classList[i?"remove":"add"]("collapsed")})),t.content_horizontal_scroller.style.width="";const r=$(t,n);if(t.content_horizontal_scroller.style.width=100/r*a.length+"%",t.content_horizontal_scroller.style.marginLeft=-e.get()*(100/r)+"%",n("resetScrollOnNavigation"))t.matches_vertical_scroller.scrollTop=0;else if(!n("useClassicalLayout")){const e=t.matches_vertical_scroller.scrollHeight*o;t.matches_vertical_scroller.scrollTop=i(e-t.matches_vertical_scroller.clientHeight/2,0,t.matches_vertical_scroller.scrollHeight-t.matches_vertical_scroller.clientHeight)}((t,e,n)=>{const i=S(t,e,n),o=0===e&&i;t.the_root_element.querySelectorAll(".navigation-button.left").forEach((t=>{e>0?t.classList.add("active"):t.classList.remove("active"),o?t.classList.add("hidden"):t.classList.remove("hidden")})),t.the_root_element.querySelectorAll(".navigation-button.right").forEach((t=>{i?t.classList.remove("active"):t.classList.add("active"),o?t.classList.add("hidden"):t.classList.remove("hidden")}))})(t,e.get(),n),g.full_update(t,n)},L=(t,e)=>{let n=0;const o=o=>{n=i(o,0,((t,e)=>t.matches_positioner.querySelectorAll(".round-wrapper").length-Math.floor(1.01*$(t,e)))(t,e))};return{set:o,try_decrement:()=>o(n-1),try_increment:()=>o(n+1),get:()=>n}},T=(t,e)=>{const i=p(t),o=L(i,e),a=()=>M(i,o,e);a(),((t,e)=>{let i=!1;new ResizeObserver(n((()=>{i?e():i=!0}))).observe(t)})(i.content_area,a);const r=()=>{o.try_decrement(),a()},s=()=>{S(i,o.get(),e)||(o.try_increment(),a())};return document.addEventListener("load",n((e=>{e.path&&e.path[0]?.closest(`#${t} .content-area`)&&e.path[0]instanceof HTMLImageElement&&(""===e.path[0]?.style.width||""===e.path[0]?.style.height)&&a()}),300),!0),{move_left:r,move_right:s,set_base_round_index:t=>{o.set(t),a()},repaint:a,handle_click:t=>{t.target.classList.contains("active")&&(t.target.classList.contains("left")&&r(),t.target.classList.contains("right")&&s())},get_state:()=>{let n=!1,a=!1,r=0;if(null!==p(t)){const t=o.get();n=S(i,t,e),a=0===t&&n,r=t}return{lastRoundIsFullyVisible:n,allRoundsAreVisible:a,baseRoundIndex:r}}}},C=(t,e)=>{l(t,"general-styles",(t=>`\n    ##.playoffs-root {\n        background-color: ${t("rootBackgroundColor")};\n        border-color: ${t("mainBorderColor")};\n    }\n\n    \n    ## .round-titles-wrapper {\n        height: ${t("roundTitlesHeight")}px;\n        font-size: ${t("roundTitlesFontSize")}px;\n        font-family: ${t("roundTitlesFontFamily")||t("rootFontFamily")};\n        color: ${t("roundTitleColor")};\n    }\n    \n    ## .round-titles-wrapper:after {\n        border-bottom: 1px solid ${t("roundTitlesBorderBottomColor")};\n    }\n\n    ## .matches-positioner {\n        min-height: calc(100% - ${2*t("mainVerticalPadding")}px);\n        margin-top: ${t("mainVerticalPadding")||0}px;\n        margin-bottom: ${t("mainVerticalPadding")||0}px;\n        font-size: ${t("matchFontSize")}px;\n    }\n\n    ## .scrollbar-parent {\n        display: ${!0===t("showScrollbar")?"block":"none"};\n        width: ${t("scrollbarWidth")}px;\n        top: ${t("roundTitlesHeight")}px;\n    }\n\n    ## .scrollbar {\n        background: ${t("scrollbarColor")};\n    }\n`)(e).replace(/##/g,`#${t}`)),l(t,"buttons-styles",(t=>{const e="gutters"===t("navButtonsPosition"),n="beforeTitles"===t("navButtonsPosition"),i="overTitles"===t("navButtonsPosition"),o="hidden"===t("navButtonsPosition");return`\n\n\n        ## .buttons-header {\n            display: ${n||i?"flex":"none"};\n            border-bottom-color: ${t("navigationGutterBorderColor")};\n            ${i?`\n                    position: absolute;\n                    z-index: 1;\n                    left: 0px;\n                    right: 0px;\n                    height: ${parseInt(t("roundTitlesHeight"))+1}px;\n                `:""}\n        }\n\n        ## .navigation-button.non-header-button {\n            position: ${e?"static":"absolute"};\n            top: ${t("navigationButtonsTopDistance")};\n            transform: ${e?"none":"translate(0, -50%)"};\n            min-height: ${e?"100%":"0"};\n        }\n\n        ## .navigation-button.non-header-button:not(.hidden) {\n            display: ${o||n||i?"none":"flex"};\n        }\n\n        ## .navigation-button.non-header-button.left {\n            background: ${t("leftNavigationButtonBackground")};\n            border-right-color: ${e?t("navigationGutterBorderColor"):"transparent"};\n        }\n        ## .navigation-button.non-header-button.right {\n            background: ${t("rightNavigationButtonBackground")};\n            border-left-color: ${e?t("navigationGutterBorderColor"):"transparent"};\n        }\n        ## .navigation-button svg {\n            fill: ${t("navigationSvgColor")};\n        }\n           \n        ## .default-navigation-svg {\n            padding: ${t("defaultNavigationSvgSize")/6}px ${t("defaultNavigationSvgSize")/8}px;\n            width: ${t("defaultNavigationSvgSize")}px;\n        }\n    `})(e).replace(/##/g,`#${t}`)),l(t,"rounds-styles",(t=>{const e="function"==typeof t("onMatchSideClick")||!0!==t("disableHighlight");return`\n        ## {\n            font-family: ${t("rootFontFamily")};\n        }\n\n\n\n\n\n        ## .match-wrapper {\n            padding-top: ${t("matchMinVerticalGap")/2}px;\n            padding-bottom: ${t("matchMinVerticalGap")/2}px;\n            padding-left: ${t("matchHorMargin")}px;\n            padding-right: ${t("matchHorMargin")}px;\n        }\n\n\n\n        ## .round-wrapper .match-body {\n            max-width: ${t("matchMaxWidth")};\n        }\n\n        ## .round-wrapper .match-body:not(:empty) {\n            border: ${t("connectionLinesWidth")}px solid transparent;\n        }\n\n\n\n        ## .matches-positioner .round-wrapper.collapsed {\n            visibility: hidden;\n            ${!0!==t("useClassicalLayout")?"height: 0; overflow: hidden;":""}\n        }\n\n\n\n        ## .match-body .sides {\n            border: ${t("connectionLinesWidth")}px solid transparent;\n            grid-row-gap: ${t("connectionLinesWidth")}px;\n        }\n\n        ## .match-body .match-status {\n            font-size: ${Math.floor(.85*t("matchFontSize"))}px;\n            background: #fff;\n            padding: ${Math.floor(t("matchFontSize")/6)}px ${Math.floor(t("matchFontSize")/2)}px;\n            margin: ${Math.floor(t("matchFontSize")/2)}px;\n            border-style: solid;\n            border-width: ${t("connectionLinesWidth")}px;\n            border-color: transparent;\n            border-color: ${t("connectionLinesColor")};\n            box-shadow: 0 0 0 1000px ${t("matchStatusBackgroundColor")} inset;\n        }\n\n        ## .match-wrapper.highlighted .match-body .match-status {\n            border-color: ${t("highlightedConnectionLinesColor")};\n        }\n\n        ${t("onMatchClick")?`\n                ## .match-wrapper .match-body {\n                    cursor: pointer;\n                }\n                ## .match-wrapper .match-body * {\n                    pointer-events: none; /* handle click/hover only on whole body */\n                }\n                ## .match-wrapper .match-body:hover,\n                ## .match-wrapper.live .match-body:hover {\n                    border-color: ${t("hoveredMatchBorderColor")};\n                }\n                ## .match-wrapper .match-body:hover .player-title {\n                    color: ${t("highlightedPlayerTitleColor")};\n                }\n            `:""}\n\n\n\n\n\n\n\n\n\n\n\n\n        \n        \n    /* LINES */\n\n    /* regular lines */\n        /* for marginal rounds paddings - padding to lines-areas */\n\n        ## .round-wrapper:first-of-type .match-lines-area {\n            left: ${t("matchHorMargin")}px;\n        }\n        ## .round-wrapper:last-of-type .match-lines-area {\n            right: ${t("matchHorMargin")}px;\n        }\n\n        ## .match-wrapper .match-lines-area .line-wrapper {\n            color: ${t("connectionLinesColor")}; /* for box-shadow color, not text */\n        }\n\n        ## .match-wrapper.highlighted .match-lines-area .line-wrapper {\n            color: ${t("highlightedConnectionLinesColor")}; /* for box-shadow color, not text */\n        }\n\n        ## .match-wrapper.odd .line-wrapper.upper {\n            box-shadow: ${t("connectionLinesWidth")}px 0px 0px 0px;\n            border-bottom: ${t("connectionLinesWidth")}px solid ${t("connectionLinesColor")};\n        }\n        ## .match-wrapper.even .line-wrapper.lower {\n            box-shadow: ${t("connectionLinesWidth")}px 0px 0px 0px;\n            border-top: ${t("connectionLinesWidth")}px solid ${t("connectionLinesColor")};\n        }\n\n    /* highlighted lines */\n        ## .match-wrapper.highlighted .line-wrapper {\n            border-color: ${t("highlightedConnectionLinesColor")} !important;\n        }\n        ## .match-wrapper.last-highlighted .line-wrapper {\n            color: ${t("connectionLinesColor")} !important;\n        }\n\n\n\n        ## .side-wrapper.highlighted .player-title {\n            color: ${t("highlightedPlayerTitleColor")};\n        }\n\n\n\n\n        ${e?`\n                ## .side-wrapper {\n                    cursor: pointer;\n                }\n                ## .side-wrapper:hover .player-title {\n                    color: ${t("highlightedPlayerTitleColor")};\n                }\n            `:""}\n\n        ## .side-wrapper {\n            padding-top: ${t("matchAxisMargin")}px;\n            padding-bottom: ${t("matchAxisMargin")}px;\n            padding-right: ${Math.floor(t("matchFontSize")/3*2)}px;\n            padding-left: ${Math.floor(t("matchFontSize")/2)}px;\n            color: ${t("matchTextColor")}; /* difined at this depth because on upper levels color property is used for box-shadow tricks */\n        }\n\n        ## .match-wrapper.live .match-body {\n            border-color: ${t("liveMatchBorderColor")};\n            background-color: ${t("liveMatchBackgroundColor")};\n        }\n\n\n        ## .side-info-item.entry-status:not(:empty) {\n            margin-right: ${t("matchFontSize")/2}px;\n        }\n\n        ## .side-info-item.players-info {\n            grid-row-gap: ${t("oneSidePlayersGap")}px;\n        }\n\n        ## .player-wrapper .nationality:not(:empty) {\n            margin-right: ${t("matchFontSize")/2}px;\n        }\n\n        ## .player-wrapper .player-title {\n            padding-right: ${1.5*t("matchFontSize")}px;\n            font-family: ${t("playerTitleFontFamily")||t("rootFontFamily")};\n        }\n\n\n        ## .side-info-item.winner-mark {\n            padding-right: ${t("distanceBetweenScorePairs")}px;\n        }\n        ## .side-wrapper:not(.winner) .winner-mark {\n            display: none;\n        }\n\n        ## .side-info-item.serving-mark {\n            width: ${t("matchFontSize")/2.5}px;\n            height: ${t("matchFontSize")/2.5}px;\n            margin-left: ${Math.floor(.8*t("distanceBetweenScorePairs"))}px;\n        }\n\n        ## .side-info-item.side-scores {\n            font-family: ${t("scoreFontFamily")||t("rootFontFamily")};\n            grid-column-gap: ${t("distanceBetweenScorePairs")}px;\n        }\n\n        ## .subscore {\n            font-size: ${Math.floor(t("matchFontSize")/3*2)}px;\n            margin-top: -${Math.floor(t("matchFontSize")/5)}px;\n            margin-right: -${Math.floor(t("matchFontSize")/5)}px;\n        }\n\n        ## .side-info-item.current_score {\n            border-color: ${t("matchTextColor")};\n            padding: 0 ${Math.floor(t("matchFontSize")/3)}px;\n            margin-left: ${Math.floor(.8*t("distanceBetweenScorePairs"))}px;\n        }\n\n        ## .match-wrapper.live .side-info-item.current_score {\n            border-color: ${t("liveMatchBorderColor")};\n        }\n\n        ## svg.default-winner-svg {\n            height: ${t("matchFontSize")}px;\n        }\n    `})(e).replace(/##/g,`#${t}`))},k=t=>a(t)||"string"==typeof t,E=(t,e)=>{const n=k(t?.mainScore)?t.mainScore:"",i=k(t?.subscore)?`<span class="subscore">${t.subscore}</span>`:"",o=k(e?.mainScore)?e.mainScore:"",a=k(e?.subscore)?`<span class="subscore">${e.subscore}</span>`:"";return`<div class="single-score-wrapper ${t?.isWinner?"winner":""}">\n            <div class="side-own-single-score">\n                <span class="main-score">${n}</span>\n                ${i}\n            </div>\n            <span class="opponent-single-score">\n                <span class="main-score">${o}</span>\n                ${a}\n            </span>\n        </div>`.replace(/>\s+</g,"><")},H=(t,e,n,i)=>{if("function"==typeof e)try{const t=e(...n);if("string"==typeof t)return t;throw`options.${i} must return a string, instead returned: ${t}`}catch(t){console.warn(`Failed to get a string from ${i}.`,t)}const o=t();return"string"==typeof o?o.trim():""},A=(t,e,n)=>{if("function"==typeof t)try{const i=t(...e);if(i instanceof Element||null===i)return i;throw`options.${n} must return an Element or null, instead returned: ${i}`}catch(t){console.warn(`Failed to get a valid return from ${n}.`,t)}},B=(t,e)=>`<div class="player-wrapper">\n        <div class="nationality">${t}</div>\n        <div class="player-title">${e}</div>\n    </div>`,I=(t,e,n,i)=>{const a=t.sides?.[e],r=t.sides?.[1===e?0:1];let l="",d="",u="",p="",h="",g="",m="",v="hidden",f="transparent";if(o(a)){!0===a.isWinner&&(d="winner"),"string"==typeof a.contestantId&&(u=`contestant-id="${a.contestantId}"`),"string"!=typeof a.contestantId&&"string"==typeof a.title&&(h=B("",a.title)),g=H((()=>((t,e)=>{const n=o(t)&&Array.isArray(t.scores)?t.scores:[],i=o(e)&&Array.isArray(e.scores)?e.scores:[],a=Math.max(n.length,i.length);return s(a,(t=>E(n[t],i[t]))).join("")})(a,r)),i("getScoresHTML"),[c(a),c(t)],"getScoresHTML"),o(a.current_score)&&(m=E(a.current_score,r?.current_score)),!0!==a.isServing&&!0!==r?.isServing||(v=""),!0===a.isServing&&(f="");let e=n.contestants?.[a.contestantId];if(e){let o={roundIndex:t.roundIndex,matchOrder:t.order,contestantId:a.contestantId};const r=n.contestants[o.contestantId].entryStatus;p=H((()=>r),i("getEntryStatusHTML"),[r,o],"getEntryStatusHTML"),h=(e.players||[]).map(((t,e)=>((t,e,n,i)=>{const o=H((()=>t.nationality),i("getNationalityHTML"),[t,e],"getNationalityHTML"),a=H((()=>t.title),i("getPlayerTitleHTML"),[c(t),e],"getPlayerTitleHTML");return B(o,a)})(t,{...o,playerIndex:e},0,i))).join("")}}return r&&!0===r.isWinner&&(l="looser"),`\n        <div class="side-wrapper ${l} ${d}"  ${u}>\n            <div class="side-info-item entry-status">${p}</div>\n            <div class="side-info-item players-info">${h}</div>\n            <div class="side-info-item winner-mark"><svg class="default-winner-svg" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path xmlns="http://www.w3.org/2000/svg" d="M21 6.285l-11.16 12.733-6.84-6.018 1.319-1.49 5.341 4.686 9.865-11.196 1.475 1.285z"/></svg></div>\n            <div class="side-info-item side-scores">${g}</div>\n            <div class="side-info-item current_score">${m}</div>\n            <div class="side-info-item serving-mark ${v} ${f}"></div>\n        </div>\n    `},F=(t,e,n,i)=>{const a=n.matches?.find((n=>n.roundIndex===t&&n.order===e)),s=Array.isArray(a?.sides)&&a?.sides.length&&!0===a?.isLive&&"function"!=typeof i("getMatchElement"),l=r(`\n        <div\n            class="\n                match-wrapper\n                ${s?"live":""}\n                ${e%2==0?"even":"odd"}\n            "\n            match-order="${e}"\n        >\n            <div class="match-lines-area">\n                <div class="line-wrapper upper"></div>\n                <div class="line-wrapper lower"></div>\n            </div>\n        </div>\n    `);return l.prepend(((t,e,n,i,a)=>{const s=r('<div class="match-body"></div>'),l=A(a("getMatchElement"),[n,i],"getMatchElement");return l instanceof Element?(s.append(l),s):null===l||void 0===t?"":(Array.isArray(t.sides)&&t.sides.find((t=>o(t)&&Object.keys(t).length>0))&&(s.innerHTML+=`\n            <div class="sides">\n                ${I(t,0,e,a)}\n                ${I(t,1,e,a)}\n            </div>\n        `),"string"==typeof t.matchStatus&&t.matchStatus.length&&(s.innerHTML+=`<div class="match-status">${t.matchStatus}</div>`),s)})(a,n,t,e,i)),l},z=(t,e)=>t.rounds.map(((n,i)=>{const o=document.createElement("div");o.className="round-title";const a=A(e("getRoundTitleElement"),[c(n),i],"getRoundTitleElement");var r,s;return a instanceof Element?o.append(a):o.innerHTML=n.name||(r=t.rounds.length,(s=i)===r-1?"Final":s===r-2?"Semifinals":s===r-3?"Quarterfinals":`1/${Math.pow(2,r-s-1)}`),o})),N=(t,e,n)=>{e.round_titles_wrapper.innerHTML="",e.round_titles_wrapper.append(...z(t,n)),e.matches_positioner.innerHTML="";const i=[];t.rounds.forEach(((e,o)=>{i.push(((t,e,n)=>{const i=r('<div class="round-wrapper"></div>');i.setAttribute("round-index",e);const o=Math.pow(2,t.rounds.length-1-e),a=s(o,(i=>F(e,i,t,n)));return i.append(...a),i})(t,o,n))})),e.matches_positioner.append(...i)},O=(t,e,n,i)=>{e.try_merge_options(t),i.the_root_element.querySelectorAll(".navigation-button.left").forEach((t=>t.innerHTML=e.get_final_value("leftNavigationButtonHTML"))),i.the_root_element.querySelectorAll(".navigation-button.right").forEach((t=>t.innerHTML=e.get_final_value("rightNavigationButtonHTML"))),C(n,e.get_final_value)},P=(t,n)=>{const{have_critical_error:i}=e((t=>{if(!o(t))return[{is_critical:!0,message:"Data must be an object, instead got: ",data:t}];if(!Array.isArray(t.rounds))return[{is_critical:!0,message:'Data must contain "rounds" property and it must be an array: ',data:t.rounds}];if(!t.rounds.length)return[{is_critical:!0,message:"At least one round should be provided"}];const e=[];t.rounds.forEach((t=>{o(t)||e.push({is_critical:!0,message:"data.rounds may contain only objects: ",data:t}),void 0!==t.name&&"string"!=typeof t.name&&e.push({is_critical:!1,message:"round.name must be a string: ",data:t})}));const n=u(t.matches,t.contestants);return e.push(...n),void 0===t.contestants||o(t.contestants)||e.push({is_critical:!0,message:"data.contestants must be an object which maps ids to contestants, instead got: ",data:t.contestants}),o(t.contestants)&&Object.values(t.contestants).forEach((t=>{o(t)||e.push({is_critical:!0,message:"Contestant must be an object, instead got: ",data:t}),void 0!==t.entryStatus&&"string"!=typeof t.entryStatus&&e.push({is_critical:!1,message:"If entryStatus is provided for a contestant, it must be a string: ",data:t}),void 0===t.players?e.push({is_critical:!1,message:"contestant.players is required: ",data:t}):Array.isArray(t.players)?0===t.players.length?e.push({is_critical:!1,message:"contestant.players must contain at least one element: ",data:t}):t.players.forEach((t=>{o(t)||e.push({is_critical:!0,message:"contestant.players array must contain only objects: ",data:t}),"string"!=typeof t.title&&e.push({is_critical:!1,message:"Player must have a title, and it must be a string, instead got: ",data:t}),void 0!==t.nationality&&"string"!=typeof t.nationality&&e.push({is_critical:!1,message:"If nationality is provided for a player, it must be a string: ",data:t})})):e.push({is_critical:!0,message:"contestant.players must be an array: ",data:t})})),e})(n));return!i&&(Object.keys(t).forEach((e=>delete t[e])),Object.assign(t,c(n)),!0)},R=(t,n,i)=>{let s=!1,d=x();const h="id"+Math.random().toString(16).slice(2);let g={};const v={moveToPreviousRound:()=>{},moveToNextRound:()=>{},moveToLastRound:()=>{},setBaseRoundIndex:()=>{},getNavigationState:()=>{},applyNewOptions:()=>{},replaceData:()=>{},applyMatchesUpdates:()=>{},getAllData:()=>c(t||{}),getUserOptions:()=>c(i),highlightContestantHistory:()=>{}};if(!(n&&n instanceof Element&&n.closest("html")))return console.warn("Could not install playoffs because invalid element is provided: ",n),v;let w=((t,e)=>{[...t.querySelectorAll(".playoffs-root")].forEach((t=>t.remove())),l("root","permanent-styles","\n\n/* protection against external styles */\n    &&&,\n    &&& * {\n        box-sizing: border-box;\n        user-select: none;\n        margin: 0;\n        padding: 0;\n        width: auto;\n        height: auto;\n        border: none;\n        border-radius: 0;\n        align-content: unset;\n        align-items: unset;\n        align-self: unset;\n        bottom: unset;\n        top: unset;\n        left: unset;\n        right: unset;\n        box-shadow: none;\n        outline: none;\n        text-decoration: none;\n        white-space: initial;\n        line-height: initial;\n    }\n\n    &&& {\n        overflow: hidden;\n        position: relative;\n        width: 100%;\n        min-width: 300px;\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n        text-align: left;\n        border-width: 1px;\n        border-style: solid;\n    }\n    \n    &&& .all-but-buttons-header {\n        flex: 1;\n        display: flex;\n        min-height: 0; /* to make it fill all free height */\n    }\n\n    &&& .zero-width {\n        width: 0;\n    }\n\n    &&& .with-hidden-scrollbar {\n        scrollbar-width: none; /* For Firefox */\n        -ms-overflow-style: none; /* For Internet Explorer and Edge */\n    }\n\n    &&& .with-hidden-scrollbar::-webkit-scrollbar {\n        width: 0px; /* For Chrome, Safari, and Opera */\n    }\n\n    &&& .full-width-grid-column { /* (a column that takes full width of the parent grid el) */\n        grid-column: 1 / -1;\n    }\n\n    &&& .equal-width-columns-grid { /* all columns acquire the width of the widest column */\n        display: grid;\n        grid-auto-flow: column;\n        grid-auto-columns: minmax(0, 1fr);\n    }\n\n    \n    \n    &&& .round-titles-wrapper {\n        width: 100%;\n        position: relative;\n    }\n\n    /* trick to draw border that stretches outside the parent\n    (which can be narrower than content-area if short tournament) */\n    &&& .round-titles-wrapper:after {\n        position: absolute;\n        display: block;\n        left: 0;\n        right: -2000px;\n        height: 100%;\n        top: 0;\n        content: '';\n    }\n\n    &&& .round-title {\n        display: flex;\n        align-items: center;\n        white-space: nowrap;\n        overflow: hidden;\n        justify-content: center;\n    }\n\n    &&& .matches-vertical-scroller {\n        flex: 1;\n        position: relative;\n        overflow-y: scroll;\n        overflow-x: hidden;\n    }\n\n    &&& .matches-positioner {\n        position: relative;\n        display: grid;\n        grid-template-rows: 100%;\n        overflow: hidden;\n    }\n\n    &&& .content-area {\n        flex: 1;\n        height: 100%;\n        min-width: 0; /* to make it shrink to the free width of the parent */\n        overflow: hidden;\n        position: relative;\n    }\n\n    &&& .content-horizontal-scroller {\n        height: 100%;\n        display: flex;\n        flex: 1;\n        flex-direction: column;\n        width: max-content;\n        min-width: 100%;\n    }\n\n    &&& .scrollbar-parent {\n        position: absolute;\n        right: 0;\n        bottom: 0;\n    }\n\n    &&& .scrollbar {\n        position: absolute;\n        z-index: 2;\n        right: 0;\n        left: 0;\n        opacity: 0.7;\n    }\n    &&& .scrollbar:hover, &&& .scrollbar.dragged {\n        opacity: 1;\n    }\n\n\n\n    &&& .buttons-header {\n        align-items: center;\n        justify-content: space-between;\n        position: static;\n        height: auto;\n        border-width: 1px;\n        border-style: solid;\n        border-color: transparent;\n    }\n\n    &&& .buttons-header .navigation-button {\n        display: flex;\n        align-items: center;\n    }\n\n    &&& .navigation-button {\n        max-height: 100%;\n        pointer-events: none;\n        border-color: transparent;\n    }\n\n    &&& .navigation-button.non-header-button {\n        cursor: auto;\n        user-select: none;\n        z-index: 3;\n        border-width: 1px;\n        border-style: solid;\n    }\n\n\n    &&& .navigation-button.non-header-button {\n        justify-content: center;\n        align-items: center;\n    }\n    &&& .navigation-button.non-header-button.left {\n        left: 0;\n    }\n    &&& .navigation-button.non-header-button.right {\n        right: 0;\n    }\n    \n    &&& .navigation-button.hidden {\n        display: none;\n    }\n\n    &&& .navigation-button.active {\n        cursor: pointer;\n        pointer-events: auto;\n    }\n\n    &&& .navigation-button > * {\n        transition: opacity ease-in-out 0.2s;\n        opacity: 0.15;\n        pointer-events: none;\n    }\n\n    &&& .navigation-button.active > * {\n        opacity: 0.65;\n    }\n\n    &&& .navigation-button.active:hover > * {\n        opacity: 1;\n    }\n\n    &&& .default-navigation-svg {\n        height: auto;\n    }\n\n    &&& .round-wrapper {\n        position: relative;\n        display: grid;\n        grid-auto-rows: minmax(0, 1fr);\n        align-items: stretch;\n        min-width: 100px;\n        max-width: 100%;\n    }\n\n\n    &&& .round-wrapper:last-of-type {\n        /* overflow: hidden for earlier rounds will hide the vertical part of connecting lines.\n            for last round it's unnecessary\n                + content that overflows it may mess up the calculations like 'is all content visible within content_area?'\n        */\n        overflow: hidden;\n    }\n\n\n\n\n\n    &&& .match-wrapper {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 100%;\n        position: relative;\n        min-height: 40px;\n        box-sizing: border-box;\n    }\n    \n\n\n    &&& .round-wrapper .match-body {\n        width: 100%;\n        transition: border-color 0.1s ease-out;\n        display: flex;\n        justify-content: flex-end; /* it pushes lonely match-status to very right */\n        z-index: 2;\n        pointer-events: auto;\n    }\n\n    &&& .round-wrapper .match-body:empty {\n        pointer-events: none; /* otherwise, when onMatchClick is set, a border will appear around an empty match :hover */\n    }\n\n    &&& .match-body .sides {\n        flex: 1;\n        display: grid;\n        grid-template-rows: minmax(0, 1fr) minmax(0, 1fr); /* two sides will always be of same height */\n        grid-template-columns: minmax(0, 1fr);\n    }\n\n    &&& .match-body .match-status {\n        z-index: 2;        \n        align-self: center;\n        transition: border-color 0.1s ease-out;\n    }\n\n    &&& .match-body .match-status:empty {\n        display: none;\n    }\n\n\n\n\n\n\n\n    \n    \n/* LINES */\n\n/* regular lines */\n    &&& .match-wrapper .match-lines-area {\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: 0;\n        bottom: 0;\n        display: flex;\n        flex-direction: column;\n        pointer-events: none;\n        z-index: 1;\n    }\n    &&& .match-wrapper .match-lines-area .line-wrapper {\n        flex: 1; /* each of 2 empty guys takes 50% height */\n        transition: color 0.1s ease-out, border-color 0.1s ease-out;\n        color: transparent;\n    }\n\n\n    &&& .round-wrapper:last-of-type .line-wrapper {\n        box-shadow: none !important;\n    }\n/* highlighted lines */\n\n\n    &&& .side-wrapper {\n        width: 100%;\n        display: flex;\n        align-items: center;\n        pointer-events: auto;\n    }\n\n\n    &&& .side-info-item {\n        display: grid;\n        grid-auto-rows: minmax(0, 1fr); /* equal height rows */\n        grid-template-columns: auto;\n        align-items: center;\n    }\n\n    &&& .side-info-item.players-info {\n        flex: 1;\n        min-width: 0;\n    }\n\n    &&& .player-wrapper {\n        display: flex;\n        align-items: center;\n        min-width: 0;\n    }\n\n    &&& .player-wrapper .nationality {\n        flex-shrink: 0;\n    }\n\n    &&& .player-wrapper .player-title {\n        flex: 1;\n        transition: color 0.1s ease-out, opacity 0.1s ease-out;\n        white-space: nowrap;\n        text-align: left;\n    }\n\n    &&& .side-wrapper.looser:not(.highlighted) .player-title,\n    &&& .side-wrapper .single-score-wrapper:not(.winner) {\n        opacity: 0.54;\n    }\n    \n    &&& .side-info-item.serving-mark {\n        border-radius: 50%;\n        background-color: #b7cf15;\n    }\n\n    &&& .side-info-item.serving-mark.hidden {\n        display: none;\n    }\n    &&& .side-info-item.serving-mark.transparent {\n        opacity: 0;\n    }\n\n    &&& .side-info-item.side-scores {\n        grid-auto-flow: column;\n    }\n    &&& .single-score-wrapper {\n        display: flex;\n        overflow: visible;\n        flex-direction: column;\n        align-items: center;\n    }\n\n    &&& .subscore {\n        padding-left: 1px;\n    }\n\n    &&& .single-score-wrapper .side-own-single-score {\n        display: flex;\n    }\n\n    &&& .single-score-wrapper .opponent-single-score {\n        display: flex;\n        height: 0;\n        overflow: hidden;\n    }\n\n    &&& .side-info-item.current_score {\n        border-width: 1px;\n        border-style: solid;\n        text-align: center;\n    }\n\n    &&& .side-info-item.current_score:empty {\n        display: none;\n    }\n\n    &&& svg.default-winner-svg {\n        width: auto;\n    }\n".replace(/&&&/g,".playoffs-root"));const n=r(`\n        <div class="playoffs-root" id=${e}>\n            <div class="buttons-header">\n                <div class="navigation-button left"></div>\n                <div class="navigation-button right"></div>\n            </div>\n            <div class="all-but-buttons-header">\n                <div class="navigation-button non-header-button left"></div>\n                <div class="content-area">\n                    <div class="content-horizontal-scroller">\n                        <div class="round-titles-wrapper  equal-width-columns-grid"></div>\n                        <div class="matches-vertical-scroller with-hidden-scrollbar">\n                            <div class="matches-positioner equal-width-columns-grid"></div>\n                        </div>\n                    </div>\n                    <div class="scrollbar-parent">\n                        <div class="scrollbar"></div>\n                    </div>\n                </div>\n                <div class="navigation-button non-header-button right"></div>\n            </div>\n        </div>\n    `);return t.append(n),p(e)})(n,h);O(i,d,h,w);if(!P(g,t))return v;s=!0,N(g,w,d.get_final_value);let _=T(h,d.get_final_value);const $=f(g,d.get_final_value,w,_),S=new MutationObserver((function(e){w?.the_root_element.closest("html")||($.uninstall(),null!==w&&(Object.keys(w).forEach((t=>{w[t].remove(),delete w[t]})),w=null),d=null,g=null,t=null,_=null,S.disconnect(),s=!1)}));return S.observe(n.parentElement,{childList:!0,subtree:!0}),{moveToPreviousRound:()=>s&&_.move_left(),moveToNextRound:()=>s&&_.move_right(),moveToLastRound:()=>s&&_.set_base_round_index(1/0),setBaseRoundIndex:t=>{if(a(t))return s&&_.set_base_round_index(t);console.warn("setBaseRoundIndex accepts only numbers, instead got: ",t)},getNavigationState:_.get_state,applyNewOptions:t=>{if(!s)return;const e=b(),n={};o(t)&&Object.entries(t).forEach((([t,i])=>{"function_or_null"===e[t]?.type?console.warn("Functional options can't be updated via applyNewOptions: ",t):n[t]=i})),O(n,d,h,w),_.repaint()},replaceData:t=>{if(!s)return;P(g,t)?(N(g,w,d.get_final_value),_.set_base_round_index(0),_.repaint(),w.matches_vertical_scroller.scrollTop=0):console.warn("Failed to apply new data")},applyMatchesUpdates:t=>{if(!s)return;if(!Array.isArray(g.matches))return;if(!Array.isArray(t))return void console.warn("applyMatchesUpdates must be called with an array of matches, instead called with: ",t);const{have_critical_error:n}=e(u(t,g.contestants));n||(t.forEach((t=>{if(!a(t.order)||!a(t.roundIndex))return;const e=g.matches.findIndex((e=>e.roundIndex===t.roundIndex&&e.order===t.order));-1===e?g.matches.push(t):Object.assign(g.matches[e],t);const n=document.querySelectorAll(`#${h} .round-wrapper`)[t.roundIndex]?.querySelectorAll(".match-wrapper")[t.order];n&&n.replaceWith(F(t.roundIndex,t.order,g,d.get_final_value))})),_.repaint())},getAllData:()=>c(g||{}),getOptionsMeta:()=>y,getUserOptions:()=>c(d?.get_user_options()||{}),highlightContestantHistory:t=>{s&&m(w.matches_positioner,t)}}};export{R as createPlayoffs};
//# sourceMappingURL=index.js.map
