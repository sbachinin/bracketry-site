const t=(t,e)=>{console.warn(`Incorrect data. %c${t}`,"padding: 0 5px; color: #b90000; background: #ffff81",e)},e=e=>{if(!e.length)return{have_errors:!1,have_critical_error:!1};const n=e.find((t=>t.is_critical));return n?(t(n.message,n.data||""),{have_errors:!0,have_critical_error:!0}):(t(e[0].message,e[0].data||""),{have_errors:!0,have_critical_error:!1})},n=(t,e=300)=>{let n;return(...o)=>{clearTimeout(n),n=setTimeout((()=>{t.apply(void 0,o)}),e)}},o=(t,e,n)=>Math.max(Math.min(t,n),e),r=t=>"object"==typeof t&&!Array.isArray(t)&&null!==t,a=t=>"number"==typeof t&&!isNaN(t),i=t=>{if("string"!=typeof t)return console.warn("create_element_from_Html expects an html string, instead got: ",t),document.createElement("div");const e=document.createElement("div");return e.innerHTML=t.trim(),e.firstElementChild?e.firstElementChild:(console.warn(`create_element_from_Html: failed to create an element from string: "${t}"`),document.createElement("div"))},s=(t,e)=>Array.from(Array(t)).map(((t,n)=>e(n))),l=(t,e,n)=>{const o=document.head.querySelector(`#${t}-${e}`);o&&document.head.removeChild(o),((t,e,n)=>{document.head.insertAdjacentHTML("beforeend",`<style id='${t}-${e}'>${n}</style>`)})(t,e,n)},c=t=>{if(null===t||"object"!=typeof t)return t;let e=new t.constructor;for(let n in t)t.hasOwnProperty(n)&&(e[n]=c(t[n]));return e},d=(t,e)=>{const n=[];return r(t)?(void 0===t.mainScore&&n.push({is_critical:!1,message:'Score must contain a "mainScore" property',data:e}),a(t.mainScore)||"string"==typeof t.mainScore||n.push({is_critical:!1,message:"mainScore must be a number or a string",data:e}),void 0===t.subscore||a(t.subscore)||"string"==typeof t.subscore||n.push({is_critical:!1,message:'If you provide "subscore", it must be a number or a string',data:e}),"boolean"!=typeof t.isWinner&&void 0!==t.isWinner&&n.push({is_critical:!1,message:'If you provide "isWinner", it must be a boolean',data:e})):n.push({is_critical:!1,message:"Score must be an object",data:e}),n},u=(t,e)=>{const n=[];return void 0===t||Array.isArray(t)||n.push({is_critical:!0,message:"data.matches must be an array:",data:t}),t&&t.length&&t.forEach((t=>{r(t)||n.push({is_critical:!0,message:"Match must be an object:",data:t}),a(t.roundIndex)||n.push({is_critical:!1,message:'Match must contain a numeric "roundIndex" prop:',data:t}),a(t.order)||n.push({is_critical:!1,message:'Match must contain a numeric "order" prop:',data:t}),void 0!==t.matchStatus&&"string"!=typeof t.matchStatus&&n.push({is_critical:!1,message:"Match.matchStatus must be a string",data:t}),void 0!==t.isLive&&"boolean"!=typeof t.isLive&&n.push({is_critical:!1,message:"Match.isLive must be a boolean",data:t}),void 0===t.sides||Array.isArray(t.sides)||n.push({is_critical:!0,message:"Match.sides is required and must be an array",data:t}),Array.isArray(t.sides)&&t.sides.forEach((o=>{r(o)?(void 0!==o.contestantId&&"string"!=typeof o.contestantId&&n.push({is_critical:!0,message:"If you provide side.contestantId, it must be a string",data:o}),"string"!=typeof o.contestantId||Object.keys(e||{}).includes(o.contestantId)||n.push({is_critical:!1,message:"No contestant data found for this side.contestantId:",data:o}),void 0!==o.isWinner&&"boolean"!=typeof o.isWinner&&n.push({is_critical:!1,message:"If you provide side.isWinner, it must be a boolean",data:o}),void 0===o.scores||Array.isArray(o.scores)||n.push({is_critical:!0,message:"If side.scores is provided, it must be an array",data:o}),Array.isArray(o.scores)&&!o.scores.length&&n.push({is_critical:!1,message:"side.scores is provided but it's an empty array: ",data:o}),Array.isArray(o.scores)&&o.scores.forEach((t=>{n.push(...d(t,o))})),void 0!==o.current_score&&n.push(...d(o.current_score,o)),void 0!==o.isServing&&"boolean"!=typeof o.isServing&&n.push({is_critical:!1,message:"If side.isServing is provided, it must be a boolean",data:o})):n.push({is_critical:!0,message:"Match's side must be an object",data:t})}))})),n};var p=".playoffs-root {\n  \n}\n.playoffs-root .navigation-button,\n.playoffs-root .vertical-scroll-button {\n  justify-content: center;\n  align-items: center;\n  border-width: 1px;\n  border-style: solid;\n  border-color: transparent;\n  cursor: auto;\n  pointer-events: none;\n  user-select: none;\n  z-index: 3;\n}\n.playoffs-root .navigation-button.active,\n.playoffs-root .vertical-scroll-button.active {\n  cursor: pointer;\n  pointer-events: auto;\n}\n.playoffs-root .navigation-button.active > *,\n.playoffs-root .vertical-scroll-button.active > * {\n  opacity: 0.65;\n}\n.playoffs-root .navigation-button.active:hover > *,\n.playoffs-root .vertical-scroll-button.active:hover > * {\n  opacity: 1;\n}\n.playoffs-root .navigation-button.hidden,\n.playoffs-root .vertical-scroll-button.hidden {\n  display: none;\n}\n.playoffs-root .navigation-button > *,\n.playoffs-root .vertical-scroll-button > * {\n  transition: opacity ease-in-out 0.2s;\n  opacity: 0.15;\n  pointer-events: none;\n}\n.playoffs-root .buttons-header {\n  align-items: center;\n  justify-content: space-between;\n  position: static;\n  height: auto;\n  border-width: 1px;\n  border-style: solid;\n  border-color: transparent;\n  border-bottom-color: var(--navigationGutterBorderColor, var(--rootBorderColor));\n  display: none;\n}\n.playoffs-root .buttons-header .navigation-button {\n  display: flex;\n}\n.playoffs-root .navigation-button {\n  max-height: 100%;\n}\n.playoffs-root .navigation-button.non-header-button {\n  position: absolute;\n  transform: translate(0, -50%);\n  top: var(--navButtonsTopDistance);\n  display: none;\n}\n.playoffs-root .navigation-button.non-header-button.left {\n  left: 0;\n}\n.playoffs-root .navigation-button.non-header-button.right {\n  right: 0;\n}\n.playoffs-root .navigation-button svg {\n  fill: var(--navigationSvgColor);\n}\n.playoffs-root .default-nav-icon,\n.playoffs-root .default-scroll-icon {\n  display: flex;\n}\n.playoffs-root .default-nav-icon svg,\n.playoffs-root .default-scroll-icon svg {\n  box-sizing: content-box;\n}\n.playoffs-root .default-nav-icon svg {\n  padding: calc(var(--defaultNavigationIconSize) / 15);\n  width: var(--defaultNavigationIconSize);\n  height: var(--defaultNavigationIconSize);\n}\n.playoffs-root .default-scroll-icon svg {\n  padding: calc(var(--defaultScrollIconSize) / 15);\n  width: var(--defaultScrollIconSize);\n  height: var(--defaultScrollIconSize);\n}\n.playoffs-root .vertical-scroll-button {\n  display: none;\n}\n.playoffs-root .vertical-scroll-button.button-up {\n  border-bottom-color: transparent;\n}\n.playoffs-root .vertical-scroll-button.button-down {\n  border-top-color: transparent;\n}\n.playoffs-root.with-scroll-buttons-in-gutters .button-up {\n  border-bottom-color: var(--scrollGutterBorderColor, var(--rootBorderColor));\n}\n.playoffs-root.with-scroll-buttons-in-gutters .button-down {\n  border-top-color: var(--scrollGutterBorderColor, var(--rootBorderColor));\n}\n.playoffs-root.fullscreen .vertical-scroll-button, .playoffs-root.with-vertical-scroll-buttons .vertical-scroll-button {\n  display: flex;\n}\n.playoffs-root.fullscreen .scrollbar, .playoffs-root.with-vertical-scroll-buttons .scrollbar {\n  transition: top 0.2s ease-out, height 0.2s ease-out;\n}\n.playoffs-root.with-nav-buttons-before-titles .buttons-header {\n  display: flex;\n}\n.playoffs-root.with-nav-buttons-over-titles .buttons-header {\n  display: flex;\n  position: absolute;\n  z-index: 1;\n  left: 0px;\n  right: 0px;\n  height: calc(var(--roundTitlesHeight) + 1px);\n  border-color: transparent;\n}\n.playoffs-root.with-gutter-nav-buttons .navigation-button.non-header-button {\n  position: static;\n  transform: none;\n  min-height: 100%;\n}\n.playoffs-root.with-gutter-nav-buttons .navigation-button.non-header-button:not(.hidden) {\n  display: flex;\n}\n.playoffs-root.with-gutter-nav-buttons .navigation-button.non-header-button.left {\n  border-right-color: var(--navigationGutterBorderColor, var(--rootBorderColor));\n}\n.playoffs-root.with-gutter-nav-buttons .navigation-button.non-header-button.right {\n  border-left-color: var(--navigationGutterBorderColor, var(--rootBorderColor));\n}\n.playoffs-root.with-nav-buttons-over_matches .navigation-button.non-header-button:not(.hidden) {\n  display: flex;\n}",f='.stop-scrolling {\n  height: 100%;\n  overflow: hidden;\n}\n\n.playoffs-fullscreen-wrapper {\n  position: fixed;\n  z-index: 4;\n  inset: 0;\n  opacity: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: var(--fullscreenBgColor);\n  transition: opacity 0.3s ease-out;\n}\n.playoffs-fullscreen-wrapper .playoffs-root {\n  max-height: 100vh;\n}\n\n.exit-fullscreen-button {\n  position: fixed;\n  right: 0;\n  top: 0;\n  width: calc((100% - var(--width)) / 2);\n  height: calc((100% - var(--height)) / 2);\n  z-index: 4;\n  cursor: pointer;\n  align-items: center;\n  justify-content: center;\n  user-select: none;\n  display: flex;\n  \n  min-width: 46px;\n  min-height: 46px;\n  align-items: self-end;\n  justify-content: flex-start;\n  padding: 4px;\n  box-sizing: border-box;\n}\n.exit-fullscreen-button .circle-button {\n  display: flex;\n  padding: 6px;\n  border-radius: 50%;\n  background: var(--rootBgColor);\n}\n.exit-fullscreen-button .circle-button svg {\n  opacity: 0.65;\n  transition: opacity ease-in-out 0.2s;\n}\n.exit-fullscreen-button .circle-button svg:hover {\n  opacity: 1;\n}\n\n.playoffs-root {\n  position: relative;\n  min-width: 260px;\n  display: flex;\n  width: var(--width);\n  height: var(--height);\n  flex-direction: column;\n  text-align: left;\n  border-width: 1px;\n  border-style: solid;\n  border-color: var(--wrapperBorderColor, var(--rootBorderColor));\n  box-sizing: border-box;\n  font-family: var(--rootFontFamily);\n  background-color: var(--rootBgColor);\n  \n}\n.playoffs-root * {\n  box-sizing: border-box;\n  user-select: none;\n  margin: 0;\n  padding: 0;\n  width: auto;\n  height: auto;\n  border: none;\n  border-radius: 0;\n  align-content: unset;\n  align-items: unset;\n  align-self: unset;\n  bottom: unset;\n  top: unset;\n  left: unset;\n  right: unset;\n  box-shadow: none;\n  outline: none;\n  text-decoration: none;\n  white-space: initial;\n  line-height: initial;\n}\n.playoffs-root .all-but-buttons-header {\n  flex: 1;\n  display: flex;\n  min-height: 0;\n  \n}\n.playoffs-root .zero-width {\n  width: 0;\n}\n.playoffs-root .with-hidden-native-scrollbar {\n  scrollbar-width: none;\n  \n  -ms-overflow-style: none;\n  \n}\n.playoffs-root .with-hidden-native-scrollbar::-webkit-scrollbar {\n  width: 0px;\n  \n}\n.playoffs-root .full-width-grid-column {\n  \n  grid-column: 1/-1;\n}\n.playoffs-root .equal-width-columns-grid {\n  \n  display: grid;\n  grid-auto-flow: column;\n  grid-auto-columns: minmax(0, 1fr);\n}\n.playoffs-root .notransition {\n  transition: none !important;\n}\n.playoffs-root .noscroll-y {\n  overflow-y: hidden !important;\n}\n.playoffs-root .content-area {\n  height: 100%;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  width: max-content;\n  min-width: 100%;\n  \n  \n  min-width: 0;\n  \n  overflow: hidden;\n  position: relative;\n}\n.playoffs-root .round-titles-wrapper {\n  width: 100%;\n  height: var(--roundTitlesHeight);\n  font-size: var(--roundTitlesFontSize);\n  font-family: var(--roundTitlesFontFamily, var(--rootFontFamily));\n  color: var(--roundTitleColor);\n  position: relative;\n  \n}\n.playoffs-root .round-titles-wrapper:after {\n  position: absolute;\n  display: block;\n  left: 0;\n  right: -2000px;\n  height: 100%;\n  top: 0;\n  content: "";\n}\n.playoffs-root .round-titles-wrapper:after {\n  border-bottom-width: 1px;\n  border-bottom-style: solid;\n  border-bottom-color: var(--roundTitlesBorderBottomColor, var(--rootBorderColor));\n}\n.playoffs-root .round-title {\n  display: flex;\n  align-items: center;\n  white-space: nowrap;\n  overflow: hidden;\n  justify-content: center;\n}\n.playoffs-root .matches-wrapper {\n  flex: 1;\n  min-height: 0;\n  position: relative;\n}\n.playoffs-root .matches-scroller {\n  position: relative;\n  overflow-y: scroll;\n  overflow-x: hidden;\n  height: 100%;\n}\n.playoffs-root .matches-positioner {\n  position: relative;\n  display: grid;\n  min-height: 100%;\n  grid-template-rows: 100%;\n  overflow: hidden;\n  padding: var(--mainVerticalPadding, 0) 0;\n  font-size: var(--matchFontSize);\n}\n.playoffs-root .scrollbar-parent {\n  position: absolute;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 3;\n  display: none;\n  width: var(--scrollbarWidth);\n}\n.playoffs-root .scrollbar {\n  position: absolute;\n  right: 0;\n  left: 0;\n  background: var(--scrollbarColor);\n}\n.playoffs-root.with-visible-scrollbar .scrollbar-parent {\n  display: block;\n}\n.playoffs-root.fullscreen .matches-positioner, .playoffs-root.with-vertical-scroll-buttons .matches-positioner {\n  transition: transform 0.2s ease-out;\n}',h=".playoffs-root {\n  \n  \n}\n.playoffs-root .round-wrapper {\n  position: relative;\n  display: grid;\n  grid-auto-rows: minmax(0, 1fr);\n  align-items: stretch;\n  min-width: 180px;\n  max-width: 100%;\n}\n.playoffs-root .round-wrapper:first-of-type .match-lines-area {\n  \n  left: var(--matchHorMargin);\n}\n.playoffs-root .round-wrapper:last-of-type {\n  \n  overflow: hidden;\n}\n.playoffs-root .round-wrapper:last-of-type .match-lines-area {\n  right: var(--matchHorMargin);\n}\n.playoffs-root .round-wrapper.collapsed {\n  visibility: hidden;\n}\n.playoffs-root .match-wrapper {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  position: relative;\n  min-height: 40px;\n  box-sizing: border-box;\n  padding: calc(var(--matchMinVerticalGap) / 2) var(--matchHorMargin);\n}\n.playoffs-root .match-wrapper.odd .line-wrapper.upper {\n  box-shadow: var(--connectionLinesWidth) 0px 0px 0px;\n  border-bottom: var(--connectionLinesWidth) solid var(--connectionLinesColor);\n}\n.playoffs-root .match-wrapper.even .line-wrapper.lower {\n  box-shadow: var(--connectionLinesWidth) 0px 0px 0px;\n  border-top: var(--connectionLinesWidth) solid var(--connectionLinesColor);\n}\n.playoffs-root .match-wrapper.live .match-body:not(:empty) {\n  border-color: var(--liveMatchBorderColor, var(--rootBorderColor));\n  background-color: var(--liveMatchBackgroundColor);\n}\n.playoffs-root .match-wrapper.live .current-score {\n  border-color: var(--liveMatchBorderColor, var(--rootBorderColor));\n}\n.playoffs-root .match-wrapper.highlighted .match-status {\n  border-color: var(--highlightedConnectionLinesColor);\n}\n.playoffs-root .match-wrapper.highlighted .match-lines-area .line-wrapper {\n  color: var(--highlightedConnectionLinesColor); \n  border-color: var(--highlightedConnectionLinesColor);\n}\n.playoffs-root .match-wrapper.last-highlighted .match-lines-area .line-wrapper {\n  color: var(--connectionLinesColor);\n}\n.playoffs-root .match-status {\n  z-index: 2;\n  align-self: center;\n  transition: border-color 0.1s ease-out;\n  font-size: calc(var(--matchFontSize) * 0.85);\n  padding: calc(var(--matchFontSize) / 6) calc(var(--matchFontSize) / 2);\n  margin: 0 calc(var(--matchFontSize) / 2);\n  border-width: var(--connectionLinesWidth);\n  border-style: solid;\n  border-color: var(--connectionLinesColor);\n  background: #fff; \n  box-shadow: 0 0 0 1000px var(--matchStatusBackgroundColor) inset;\n}\n.playoffs-root .match-status:empty {\n  display: none;\n}\n.playoffs-root .match-body {\n  display: flex;\n  width: 100%;\n  max-width: var(--matchMaxWidth);\n  justify-content: flex-end; \n  z-index: 2;\n  transition: border-color 0.1s ease-out;\n  pointer-events: auto;\n  border-width: var(--connectionLinesWidth, 2);\n  border-style: solid;\n  border-color: transparent;\n}\n.playoffs-root .match-body:empty {\n  pointer-events: none; \n}\n.playoffs-root .match-body .sides {\n  flex: 1;\n  display: grid;\n  grid-template-rows: minmax(0, 1fr) minmax(0, 1fr); \n  grid-template-columns: minmax(0, 1fr);\n  grid-row-gap: var(--connectionLinesWidth);\n}\n.playoffs-root .match-lines-area {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  pointer-events: none;\n  z-index: 1;\n}\n.playoffs-root .match-lines-area .line-wrapper {\n  flex: 1; \n  transition: color 0.1s ease-out, border-color 0.1s ease-out;\n  color: var(--connectionLinesColor); \n}\n.playoffs-root .round-wrapper:last-of-type .line-wrapper {\n  box-shadow: none !important;\n}\n.playoffs-root .side-wrapper {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  pointer-events: auto;\n  padding-top: var(--matchAxisMargin);\n  padding-bottom: var(--matchAxisMargin);\n  padding-right: calc(var(--matchFontSize) / 3 * 2);\n  padding-left: calc(var(--matchFontSize) / 2);\n  color: var(--matchTextColor); \n}\n.playoffs-root .side-wrapper.highlighted .player-title {\n  color: var(--highlightedPlayerTitleColor);\n}\n.playoffs-root .side-wrapper.looser:not(.highlighted) .player-title, .playoffs-root .side-wrapper .single-score-wrapper:not(.winner) {\n  opacity: 0.54;\n}\n.playoffs-root .side-wrapper:not(.winner) .winner-mark {\n  display: none;\n}\n.playoffs-root .side-info-item {\n  display: grid;\n  grid-auto-rows: minmax(0, 1fr); \n  grid-template-columns: auto;\n  align-items: center;\n}\n.playoffs-root .side-info-item.serving-mark {\n  width: calc(var(--matchFontSize) / 2.5);\n  height: calc(var(--matchFontSize) / 2.5);\n  margin-left: calc(var(--distanceBetweenScorePairs) * 0.8);\n  border-radius: 50%;\n  background-color: #b7cf15;\n}\n.playoffs-root .side-info-item.serving-mark.hidden {\n  display: none;\n}\n.playoffs-root .side-info-item.serving-mark.transparent {\n  opacity: 0;\n}\n.playoffs-root .side-info-item.side-scores {\n  grid-auto-flow: column;\n  font-family: var(--scoreFontFamily, var(--rootFontFamily));\n  grid-column-gap: var(--distanceBetweenScorePairs);\n}\n.playoffs-root .side-info-item.current-score {\n  border-width: 1px;\n  border-style: solid;\n  text-align: center;\n  border-color: var(--matchTextColor);\n  padding: 0 calc(var(--matchFontSize) / 3);\n  margin-left: calc(var(--distanceBetweenScorePairs) * 0.8);\n}\n.playoffs-root .side-info-item.current-score:empty {\n  display: none;\n}\n.playoffs-root .side-info-item.entry-status:not(:empty) {\n  margin-right: calc(var(--matchFontSize) / 2);\n}\n.playoffs-root .side-info-item.players-info {\n  flex: 1;\n  min-width: 0;\n  grid-row-gap: var(--oneSidePlayersGap);\n}\n.playoffs-root .side-info-item.winner-mark {\n  padding-right: var(--distanceBetweenScorePairs);\n}\n.playoffs-root .player-wrapper {\n  display: flex;\n  align-items: center;\n  min-width: 0;\n  overflow: hidden;\n}\n.playoffs-root .player-wrapper .nationality {\n  flex-shrink: 0;\n}\n.playoffs-root .player-wrapper .nationality:not(:empty) {\n  margin-right: calc(var(--matchFontSize) / 2);\n}\n.playoffs-root .player-wrapper .player-title {\n  flex: 1;\n  transition: color 0.1s ease-out, opacity 0.1s ease-out;\n  white-space: nowrap;\n  text-align: left;\n  text-overflow: ellipsis;\n  min-width: 0; \n  overflow: hidden;\n  padding-right: calc(var(--matchFontSize) * 1.5);\n  font-family: var(--playerTitleFontFamily, var(--rootFontFamily));\n}\n.playoffs-root .single-score-wrapper {\n  display: flex;\n  overflow: visible;\n  flex-direction: column;\n  align-items: center;\n}\n.playoffs-root .single-score-wrapper .side-own-single-score {\n  display: flex;\n}\n.playoffs-root .single-score-wrapper .opponent-single-score {\n  display: flex;\n  height: 0;\n  overflow: hidden;\n}\n.playoffs-root .subscore {\n  padding-left: 1px;\n  font-size: calc(var(--matchFontSize) / 3 * 2);\n  margin-top: calc(var(--matchFontSize) / 5 * -1);\n  margin-right: calc(var(--matchFontSize) / 5 * -1);\n}\n.playoffs-root svg.default-winner-svg {\n  width: auto;\n  height: var(--matchFontSize);\n}\n.playoffs-root.with-onMatchClick .match-body:not(:empty) {\n  cursor: pointer;\n}\n.playoffs-root.with-onMatchClick .match-body:not(:empty):hover {\n  border-color: var(--hoveredMatchBorderColor, var(--rootBorderColor));\n}\n.playoffs-root.with-onMatchClick .match-body:not(:empty):hover .player-title {\n  color: var(--highlightedPlayerTitleColor);\n}\n.playoffs-root.with-onMatchClick .match-body:not(:empty) * {\n  pointer-events: none; \n}\n.playoffs-root:not(.with-classical-layout) .round-wrapper.collapsed {\n  height: 0;\n  overflow: hidden;\n}\n.playoffs-root.with-clickable-sides .side-wrapper {\n  cursor: pointer;\n}\n.playoffs-root.with-clickable-sides .side-wrapper:hover .player-title {\n  color: var(--highlightedPlayerTitleColor);\n}";const v=(t,e,n)=>{[...t.querySelectorAll(":scope > .playoffs-root")].forEach((t=>t.remove())),l("root","permanent-styles",[p,f,h].join("\n"));const o=i(`\n        <div class="playoffs-root" id=${e}>\n            <div class="buttons-header">\n                <div class="navigation-button left"></div>\n                <div class="navigation-button right"></div>\n            </div>\n            <div class="all-but-buttons-header">\n                <div class="navigation-button non-header-button left"></div>\n                <div class="content-area">\n                    <div class="round-titles-wrapper  equal-width-columns-grid"></div>\n                    <div class="vertical-scroll-button button-up"></div>\n                    <div class="matches-wrapper">\n                        <div class="scrollbar-parent">\n                            <div class="scrollbar"></div>\n                        </div>\n                        <div class="matches-scroller with-hidden-native-scrollbar">\n                            <div class="matches-positioner equal-width-columns-grid"></div>\n                        </div>\n                    </div>\n                    <div class="vertical-scroll-button button-down"></div>\n                </div>\n                <div class="navigation-button non-header-button right"></div>\n            </div>\n        </div>\n    `);if(n){const e=i('\n            <div class="playoffs-fullscreen-wrapper">\n                <div class="exit-fullscreen-button">\n                    <div class="circle-button">\n                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M23 20.168l-8.185-8.187 8.185-8.174-2.832-2.807-8.182 8.179-8.176-8.179-2.81 2.81 8.186 8.196-8.186 8.184 2.81 2.81 8.203-8.192 8.18 8.192z"/></svg>\n                    </div>\n                </div>\n            </div>\n        ');e.append(o),t.append(e)}else t.append(o);return(t=>{const e=document.querySelector(`#${t}`);if(!e)return null;const n=t=>e.querySelector(t);return{fullscreen_wrapper:e.closest(".playoffs-fullscreen-wrapper"),the_root_element:e,scrollbar:n(".scrollbar"),content_area:n(".content-area"),round_titles_wrapper:n(".round-titles-wrapper"),matches_scroller:n(".matches-scroller"),matches_positioner:n(".matches-positioner")}})(e)},g=(t,e)=>{if("string"!=typeof e&&null!==e)return;if([...t.querySelectorAll(".side-wrapper.highlighted")].forEach((t=>{t.classList.remove("highlighted"),t.closest(".match-wrapper").classList.remove("highlighted"),t.closest(".last-highlighted")?.classList.remove("last-highlighted")})),null===e||""===e)return;const n=[...t.querySelectorAll(`.side-wrapper[contestant-id="${e}"]`)];n.length&&(n[0].classList.contains("highlighted")||n.reverse().forEach(((t,e)=>{t.classList.add("highlighted"),t.closest(".match-wrapper").classList.add("highlighted"),0===e&&t.closest(".match-wrapper").classList.add("last-highlighted")})))},y=(t,e)=>{const n=+t.closest(".round-wrapper")?.getAttribute("round-index"),o=+t.closest(".match-wrapper")?.getAttribute("match-order");return e.matches?.find((t=>t.roundIndex===n&&t.order===o))||{roundIndex:+n,order:+o}},m='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z"/></svg>',b={GENERAL_OPTIONS:{width:{type:"string",default_value:"100%"},height:{type:"string",default_value:"100%"},fullscreen:{type:"boolean",default_value:!1,non_updatable:!0},fullscreenBgColor:{type:"string",default_value:"rgba(0,0,0,.3)"},rootBgColor:{type:"string",default_value:"transparent"},mainVerticalPadding:{type:"pixels",default_value:20,min_value:0},visibleRoundsCount:{type:"number",default_value:0},displayWholeRounds:{type:"boolean",default_value:!1},useClassicalLayout:{type:"boolean",default_value:!1},disableHighlight:{type:"boolean",default_value:!1}},BORDERS_OPTIONS:{rootBorderColor:{type:"string",default_value:"#bbbbbb"},wrapperBorderColor:{type:"string",default_value:""},roundTitlesBorderBottomColor:{type:"string",default_value:""},scrollGutterBorderColor:{type:"string",default_value:""},navigationGutterBorderColor:{type:"string",default_value:""},liveMatchBorderColor:{type:"string",default_value:"#44c985"},hoveredMatchBorderColor:{type:"string",default_value:""}},ROUND_TITLE_OPTIONS:{getRoundTitleElement:{type:"function_or_null",default_value:null},roundTitlesHeight:{type:"pixels",default_value:"50"},roundTitleColor:{type:"string",default_value:"#000"}},NAVIGATION_OPTIONS:{navButtonsPosition:{type:"select",options:[...Object.keys({overMatches:"left and right (on top of matches)",gutters:"left and right (in the gutters)",beforeTitles:"header (before round titles)",overTitles:"header (on top of round titles)",hidden:"hidden"})],default_value:"gutters"},navButtonsTopDistance:{type:"string",default_value:"50%"},defaultNavigationIconSize:{type:"pixels",default_value:"34"},navigationSvgColor:{type:"string",default_value:"#161616"},leftNavigationButtonHTML:{type:"multiline_string",default_value:`<div class="default-nav-icon" style="transform: rotate(180deg)">${m}</div>`},rightNavigationButtonHTML:{type:"multiline_string",default_value:`<div class="default-nav-icon">${m}</div>`}},SCROLL_OPTIONS:{verticalScrollMode:{type:"select",options:["mousewheel","buttons"],default_value:"mousewheel",non_updatable:!0},syntheticScrollAmount:{type:"pixels",default_value:300},resetScrollOnNavigation:{type:"boolean",default_value:!1},scrollButtonsPosition:{type:"select",options:["gutters","overMatches"],default_value:"gutters"},scrollUpButtonHTML:{type:"multiline_string",default_value:`<div class="default-scroll-icon" style="transform: rotate(-90deg)">${m}</div>`},scrollDownButtonHTML:{type:"multiline_string",default_value:`<div class="default-scroll-icon" style="transform: rotate(90deg)">${m}</div>`},defaultScrollIconSize:{type:"pixels",default_value:"34"},showScrollbar:{type:"boolean",default_value:!0},scrollbarWidth:{type:"pixels",default_value:"5"},scrollbarColor:{type:"string",default_value:"#d3d3d3"}},FONTS_OPTIONS:{rootFontFamily:{type:"string",default_value:"Open Sans, Roboto, sans-serif"},roundTitlesFontFamily:{type:"string",default_value:"inherit"},roundTitlesFontSize:{type:"pixels",default_value:30,min_value:8},matchTextColor:{type:"string",default_value:"#000"},matchFontSize:{type:"pixels",default_value:16,min_value:8},playerTitleFontFamily:{type:"string",default_value:"inherit"},highlightedPlayerTitleColor:{type:"string",default_value:"#003ae6"},scoreFontFamily:{type:"string",default_value:"inherit"}},CONNECTION_LINES_OPTIONS:{connectionLinesWidth:{type:"pixels",default_value:2,min_value:0},connectionLinesColor:{type:"string",default_value:"#dcdcdc"},highlightedConnectionLinesColor:{type:"string",default_value:"#7698ff"}},MATCH_OPTIONS:{getMatchElement:{type:"function_or_null",default_value:null},getNationalityHTML:{type:"function_or_null",default_value:null},getEntryStatusHTML:{type:"function_or_null",default_value:null},getPlayerTitleHTML:{type:"function_or_null",default_value:null},getScoresHTML:{type:"function_or_null",default_value:null},matchMaxWidth:{type:"string",default_value:"unset"},matchMinVerticalGap:{type:"pixels",default_value:25},matchHorMargin:{type:"pixels",default_value:20},matchAxisMargin:{type:"pixels",default_value:4},oneSidePlayersGap:{type:"pixels",default_value:2},liveMatchBackgroundColor:{type:"string",default_value:"transparent"},distanceBetweenScorePairs:{type:"pixels",default_value:14,min_value:0},matchStatusBackgroundColor:{type:"string",default_value:"#fff"}},CALLBACKS:{onMatchClick:{type:"function_or_null",default_value:null},onMatchSideClick:{type:"function_or_null",default_value:null}}},w=()=>{const t={};return Object.values(b).forEach((e=>Object.assign(t,e))),t},_={"with-scroll-buttons-in-gutters":t=>"buttons"===t.verticalScrollMode&&"gutters"===t.scrollButtonsPosition,"with-gutter-nav-buttons":t=>"gutters"===t.navButtonsPosition,"with-nav-buttons-over_matches":t=>"overMatches"===t.navButtonsPosition,"with-nav-buttons-before-titles":t=>"beforeTitles"===t.navButtonsPosition,"with-nav-buttons-over-titles":t=>"overTitles"===t.navButtonsPosition,"with-onMatchClick":t=>"function"==typeof t.onMatchClick,"with-classical-layout":t=>!0===t.useClassicalLayout,"with-clickable-sides":t=>"function"==typeof t.onMatchSideClick||!0!==t.disableHighlight,"with-vertical-scroll-buttons":t=>"buttons"===t.verticalScrollMode,fullscreen:t=>!0===t.fullscreen,"with-visible-scrollbar":t=>!0===t.showScrollbar},x=(t,e,{fullscreen_wrapper:n,the_root_element:o})=>{const r=e.get_final_value;e.try_merge_options(t),((t,e)=>{t.querySelectorAll(".navigation-button.left").forEach((t=>t.innerHTML=e("leftNavigationButtonHTML"))),t.querySelectorAll(".navigation-button.right").forEach((t=>t.innerHTML=e("rightNavigationButtonHTML"))),t.querySelector(".button-up").innerHTML=e("scrollUpButtonHTML"),t.querySelector(".button-down").innerHTML=e("scrollDownButtonHTML")})(o,r);const a=w(),i=e.get_all_final_options();Object.entries(i).forEach((([t,e])=>{const{type:r}=a[t];if(["number","pixels","string"].includes(r)){let a=e;"pixels"===r&&(a=parseInt(a)+"px");(n||o).style.setProperty(`--${t}`,a)}})),Object.entries(_).forEach((([t,e])=>{e(i)?o.classList.add(t):o.classList.remove(t)}))},S=(t,e)=>{console.warn(`Impossible value provided for "${t}" option: %c${JSON.stringify(e,null,2)}%c.\nDefault value of %c${(()=>{const t={};return Object.entries(w()).forEach((([e,{default_value:n}])=>{t[e]=n})),t})()[t]}%c will be used instead`,"background: #c7ffc9; color: black; padding: 0 3px","","background: pink; color: black; padding: 0 3px","")},L=(t,e,n)=>n?!!((t,e)=>{switch(e.type){case"number":case"pixels":return a(t);case"multiline_string":case"string":return"string"==typeof t;case"function_or_null":return"function"==typeof t||null===t;case"boolean":return"boolean"==typeof t;case"select":return e.options?.find((e=>r(e)?e.value===t:e===t))}})(e,n)||(S(t,e),!1):(console.warn(`Unknown option provided: %c${t}`,"background: pink; color: black; font-weight: bold; padding: 0 3px;"),!1),M=(t,e,n)=>{const o=n[t];if("verticalScrollMode"===t&&!0===e.fullscreen)return"buttons";if(void 0===o)return void console.warn("Impossible option name passed to get_final_value: ",t);const r=e[t],a=void 0!==r?r:o.default_value;return"number"!==o.type&&"pixels"!==o.type||"number"!=typeof o.min_value?a:Math.max(a,o.min_value)},C=(t,e)=>{const n=t.matches_positioner.querySelectorAll(".round-wrapper"),o=e("visibleRoundsCount");if(void 0!==o&&o>=1)return Math.min(n.length,o);{const o=t.content_area.getBoundingClientRect().width/n[0].getBoundingClientRect().width;return isNaN(o)?0:e("displayWholeRounds")?Math.floor(o):o}},T=(t,e,n)=>{const o=t.matches_positioner.querySelectorAll(".round-wrapper");return e+1.01*C(t,n)>=o.length},E=(t,e,n,o)=>{t.set(t.get());const r=o.get_scrollY_ratio(),a=[...n.matches_positioner.querySelectorAll(".round-wrapper")];a.forEach(((e,n)=>{const o=n>=Math.floor(t.get());e.classList[o?"remove":"add"]("collapsed")})),n.matches_scroller.style.width="max-content";const i=C(n,e),s=100/i*a.length+"%",l=-t.get()*(100/i)+"%";n.matches_scroller.style.width=s,n.matches_scroller.style.marginLeft=l,n.round_titles_wrapper.style.width=s,n.round_titles_wrapper.style.marginLeft=l,o.adjust_offset(r),((t,e,n)=>{const o=T(t,e,n),r=0===e&&o;t.the_root_element.querySelectorAll(".navigation-button.left").forEach((t=>{e>0?t.classList.add("active"):t.classList.remove("active"),r?t.classList.add("hidden"):t.classList.remove("hidden")})),t.the_root_element.querySelectorAll(".navigation-button.right").forEach((t=>{o?t.classList.remove("active"):t.classList.add("active"),r?t.classList.add("hidden"):t.classList.remove("hidden")}))})(n,t.get(),e)},B=(t,e)=>{let n=0;const r=r=>{n=o(r,0,((t,e)=>t.matches_positioner.querySelectorAll(".round-wrapper").length-Math.floor(1.01*C(t,e)))(t,e))};return{set:r,try_decrement:()=>r(n-1),try_increment:()=>r(n+1),get:()=>n}},k=(t,e,o,r)=>{const a=B(e,o),i=()=>E(a,o,e,r);i();const s=((t,e)=>{let o=!1;const r=new ResizeObserver(n((()=>{o?t.closest("html")&&e():o=!0})));return r.observe(t),r})(e.content_area,i),l=()=>{a.try_decrement(),i()},c=()=>{T(e,a.get(),o)||(a.try_increment(),i())},d=n((e=>{e.path&&e.path[0]?.closest(`#${t} .content-area`)&&e.path[0]instanceof HTMLImageElement&&(""===e.path[0]?.style.width||""===e.path[0]?.style.height)&&i()}),300);return document.addEventListener("load",d,!0),{move_left:l,move_right:c,set_base_round_index:t=>{a.set(t),i()},repaint:i,handle_click:t=>{t.target.classList.contains("active")&&(t.target.classList.contains("left")&&l(),t.target.classList.contains("right")&&c())},get_state:()=>{let t=!1,n=!1,r=0;if(Object.keys(e).length){const i=a.get();t=T(e,i,o),n=0===i&&t,r=i}return{lastRoundIsFullyVisible:t,allRoundsAreVisible:n,baseRoundIndex:r}},uninstall:()=>{document.removeEventListener("load",d,!0),s.disconnect()}}},A=t=>a(t)||"string"==typeof t,I=(t,e)=>{const n=A(t?.mainScore)?t.mainScore:"",o=A(t?.subscore)?`<span class="subscore">${t.subscore}</span>`:"",r=A(e?.mainScore)?e.mainScore:"",a=A(e?.subscore)?`<span class="subscore">${e.subscore}</span>`:"";return`<div class="single-score-wrapper ${t?.isWinner?"winner":""}">\n            <div class="side-own-single-score">\n                <span class="main-score">${n}</span>\n                ${o}\n            </div>\n            <span class="opponent-single-score">\n                <span class="main-score">${r}</span>\n                ${a}\n            </span>\n        </div>`.replace(/>\s+</g,"><")},H=(t,e,n,o)=>{if("function"==typeof e)try{const t=e(...n);if("string"==typeof t)return t;throw`options.${o} must return a string, instead returned: ${t}`}catch(t){console.warn(`Failed to get a string from ${o}.`,t)}const r=t();return"string"==typeof r?r.trim():""},$=(t,e,n)=>{if("function"==typeof t)try{const o=t(...e);if(o instanceof Element||null===o)return o;throw`options.${n} must return an Element or null, instead returned: ${o}`}catch(t){console.warn(`Failed to get a valid return from ${n}.`,t)}},O=(t,e)=>`<div class="player-wrapper">\n        <div class="nationality">${t}</div>\n        <div class="player-title">${e}</div>\n    </div>`,z=(t,e,n,o)=>{const a=t.sides?.[e],i=t.sides?.[1===e?0:1];let l="",d="",u="",p="",f="",h="",v="",g="hidden",y="transparent";if(r(a)){!0===a.isWinner&&(d="winner"),"string"==typeof a.contestantId&&(u=`contestant-id="${a.contestantId}"`),"string"!=typeof a.contestantId&&"string"==typeof a.title&&(f=O("",a.title)),h=H((()=>((t,e)=>{const n=r(t)&&Array.isArray(t.scores)?t.scores:[],o=r(e)&&Array.isArray(e.scores)?e.scores:[],a=Math.max(n.length,o.length);return s(a,(t=>I(n[t],o[t]))).join("")})(a,i)),o("getScoresHTML"),[c(a),c(t)],"getScoresHTML"),r(a.current_score)&&(v=I(a.current_score,i?.current_score)),!0!==a.isServing&&!0!==i?.isServing||(g=""),!0===a.isServing&&(y="");let e=n.contestants?.[a.contestantId];if(e){let r={roundIndex:t.roundIndex,matchOrder:t.order,contestantId:a.contestantId};const i=n.contestants[r.contestantId].entryStatus;p=H((()=>i),o("getEntryStatusHTML"),[i,r],"getEntryStatusHTML"),f=(e.players||[]).map(((t,e)=>((t,e,n,o)=>{const r=H((()=>t.nationality),o("getNationalityHTML"),[t,e],"getNationalityHTML"),a=H((()=>t.title),o("getPlayerTitleHTML"),[c(t),e],"getPlayerTitleHTML");return O(r,a)})(t,{...r,playerIndex:e},0,o))).join("")}}return i&&!0===i.isWinner&&(l="looser"),`\n        <div class="side-wrapper ${l} ${d}"  ${u}>\n            <div class="side-info-item entry-status">${p}</div>\n            <div class="side-info-item players-info">${f}</div>\n            <div class="side-info-item winner-mark"><svg class="default-winner-svg" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path xmlns="http://www.w3.org/2000/svg" d="M21 6.285l-11.16 12.733-6.84-6.018 1.319-1.49 5.341 4.686 9.865-11.196 1.475 1.285z"/></svg></div>\n            <div class="side-info-item side-scores">${h}</div>\n            <div class="side-info-item current-score">${v}</div>\n            <div class="side-info-item serving-mark ${g} ${y}"></div>\n        </div>\n    `},F=(t,e,n,o)=>{const a=n.matches?.find((n=>n.roundIndex===t&&n.order===e)),s=Array.isArray(a?.sides)&&a?.sides.length&&!0===a?.isLive&&"function"!=typeof o("getMatchElement"),l=i(`\n        <div\n            class="\n                match-wrapper\n                ${s?"live":""}\n                ${e%2==0?"even":"odd"}\n            "\n            match-order="${e}"\n        >\n            <div class="match-lines-area">\n                <div class="line-wrapper upper"></div>\n                <div class="line-wrapper lower"></div>\n            </div>\n        </div>\n    `);return l.prepend(((t,e,n,o,a)=>{const s=i('<div class="match-body"></div>'),l=$(a("getMatchElement"),[n,o],"getMatchElement");return l instanceof Element?(s.append(l),s):null===l||void 0===t?"":(Array.isArray(t.sides)&&t.sides.find((t=>r(t)&&Object.keys(t).length>0))&&(s.innerHTML+=`\n            <div class="sides">\n                ${z(t,0,e,a)}\n                ${z(t,1,e,a)}\n            </div>\n        `),"string"==typeof t.matchStatus&&t.matchStatus.length&&(s.innerHTML+=`<div class="match-status">${t.matchStatus}</div>`),s)})(a,n,t,e,o)),l},N=(t,e)=>t.rounds.map(((n,o)=>{const r=document.createElement("div");r.className="round-title";const a=$(e("getRoundTitleElement"),[c(n),o],"getRoundTitleElement");var i,s;return a instanceof Element?r.append(a):r.innerHTML=n.name||(i=t.rounds.length,(s=o)===i-1?"Final":s===i-2?"Semifinals":s===i-3?"Quarterfinals":`1/${Math.pow(2,i-s-1)}`),r})),j=(t,e,n)=>{e.round_titles_wrapper.innerHTML="",e.round_titles_wrapper.append(...N(t,n)),e.matches_positioner.innerHTML="";const o=[];t.rounds.forEach(((e,r)=>{o.push(((t,e,n)=>{const o=i('<div class="round-wrapper"></div>');o.setAttribute("round-index",e);const r=Math.pow(2,t.rounds.length-1-e),a=s(r,(o=>F(e,o,t,n)));return o.append(...a),o})(t,r,n))})),e.matches_positioner.append(...o)},P=((t,e)=>{let n=!0,o=null;return function r(){var a=this;n?(n=!1,setTimeout((function(){n=!0,o&&r.apply(a)}),e),o?(t.apply(this,o),o=null):t.apply(this,arguments)):o=arguments}})(((t,e,n)=>{!0===e("showScrollbar")&&(t.scrollbar.style.top=n/t.matches_positioner.clientHeight*100+"%")}),15),R={update_position:P,full_update:(t,e,n)=>{if(!0!==e("showScrollbar"))return;const o=t.matches_positioner.clientHeight>t.matches_scroller.clientHeight;t.scrollbar.style.visibility=o?"visible":"hidden",P(t,e,n),(t=>{t.scrollbar.style.height=t.matches_scroller.clientHeight/t.matches_positioner.clientHeight*100+"%"})(t)}},q=n((t=>t.classList.remove("noscroll-y")),200);var W={37:1,38:1,39:1,40:1};function D(t){t.preventDefault()}function G(t){if(W[t.keyCode])return D(t),!1}var U=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){U=!0}}))}catch(t){}var V=!!U&&{passive:!1},Y="onwheel"in document.createElement("div")?"wheel":"mousewheel";const J=t=>{t.removeEventListener("DOMMouseScroll",D,!1),t.removeEventListener(Y,D,V),t.removeEventListener("touchmove",D,V),t.removeEventListener("keydown",G,!1)},K=(t,e)=>{const n=t>=e.matches_positioner.clientHeight-e.matches_scroller.clientHeight,o=e.the_root_element.querySelector(".button-down"),r=e.the_root_element.querySelector(".button-up");n?o.classList.remove("active"):o.classList.add("active"),t<=0?r.classList.remove("active"):r.classList.add("active")},Q=(t,e)=>{let n=0;const{matches_scroller:r,matches_positioner:a}=t,i=()=>{R.update_position(t,e,r.scrollTop)},s=((t,e)=>{if("mousewheel"!==e("verticalScrollMode"))return()=>{};const n=()=>{t.classList.add("noscroll-y"),q(t)};return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)})(r,e);var l;!0===e("fullscreen")?((l=window).addEventListener("DOMMouseScroll",D,!1),l.addEventListener(Y,D,V),l.addEventListener("touchmove",D,V),l.addEventListener("keydown",G,!1)):"buttons"===e("verticalScrollMode")?r.classList.add("noscroll-y"):r.addEventListener("scroll",i);const c=((t,e,n)=>{const o=t=>{const o=t.target.closest(".vertical-scroll-button");if(!o)return;const r=o.classList.contains("button-up"),a=e("syntheticScrollAmount");n(r?-a:a)};return t.the_root_element.addEventListener("click",o),()=>{t.the_root_element?.removeEventListener("click",o)}})(t,e,(r=>{const i=a.clientHeight-a.parentElement.clientHeight;n=o(n+r,0,i),a.style.transform=`translateY(-${Math.floor(n)}px)`,R.update_position(t,e,n),K(n,t)}));return{get_scrollY_ratio:()=>((t,e)=>{const{matches_scroller:n,matches_positioner:o}=t;return((n.scrollTop||e)+n.clientHeight/2)/o.clientHeight})(t,n),adjust_offset:r=>{const a=((t,e,n,r)=>{const{matches_scroller:a,matches_positioner:i}=e;let s;if(!0===n("resetScrollOnNavigation"))s=0;else if(!0===n("useClassicalLayout"))s=r||a.scrollTop;else{const e=i.clientHeight*t;s=o(e-a.clientHeight/2,0,i.clientHeight-a.clientHeight)}return"buttons"===n("verticalScrollMode")?(i.classList.add("notransition"),i.style.transform=`translateY(-${Math.floor(s)}px)`,i.offsetHeight,i.classList.remove("notransition")):a.scrollTop=s,R.full_update(e,n,s),s})(r,t,e,n);"buttons"===e("verticalScrollMode")&&(n=a),K(n,t)},uninstall:()=>{r?.removeEventListener("scroll",i),s(),c(),J(window),J(t.the_root_element)}}},X=(t,n)=>{const{have_critical_error:o}=e((t=>{if(!r(t))return[{is_critical:!0,message:"Data must be an object, instead got: ",data:t}];if(!Array.isArray(t.rounds))return[{is_critical:!0,message:'Data must contain "rounds" property and it must be an array: ',data:t.rounds}];if(!t.rounds.length)return[{is_critical:!0,message:"At least one round should be provided"}];const e=[];t.rounds.forEach((t=>{r(t)||e.push({is_critical:!0,message:"data.rounds may contain only objects: ",data:t}),void 0!==t.name&&"string"!=typeof t.name&&e.push({is_critical:!1,message:"round.name must be a string: ",data:t})}));const n=u(t.matches,t.contestants);return e.push(...n),void 0===t.contestants||r(t.contestants)||e.push({is_critical:!0,message:"data.contestants must be an object which maps ids to contestants, instead got: ",data:t.contestants}),r(t.contestants)&&Object.values(t.contestants).forEach((t=>{r(t)||e.push({is_critical:!0,message:"Contestant must be an object, instead got: ",data:t}),void 0!==t.entryStatus&&"string"!=typeof t.entryStatus&&e.push({is_critical:!1,message:"If entryStatus is provided for a contestant, it must be a string: ",data:t}),void 0===t.players?e.push({is_critical:!1,message:"contestant.players is required: ",data:t}):Array.isArray(t.players)?0===t.players.length?e.push({is_critical:!1,message:"contestant.players must contain at least one element: ",data:t}):t.players.forEach((t=>{r(t)||e.push({is_critical:!0,message:"contestant.players array must contain only objects: ",data:t}),"string"!=typeof t.title&&e.push({is_critical:!1,message:"Player must have a title, and it must be a string, instead got: ",data:t}),void 0!==t.nationality&&"string"!=typeof t.nationality&&e.push({is_critical:!1,message:"If nationality is provided for a player, it must be a string: ",data:t})})):e.push({is_critical:!0,message:"contestant.players must be an array: ",data:t})})),e})(n));return!o&&(Object.keys(t).forEach((e=>delete t[e])),Object.assign(t,c(n)),!0)},Z=(t,n,o)=>{let i=!1,s=(()=>{let t={};const e=w();return{try_merge_options:n=>{void 0!==n&&(r(n)?Object.entries(n).forEach((([n,o])=>{const r=e[n];L(n,o,r)&&(t[n]=o)})):console.warn("options must be an object, instead got",typeof n))},get_final_value:n=>M(n,t,e),get_user_options:()=>t,get_all_final_options:()=>{const n={};return Object.keys(e).forEach((o=>{n[o]=M(o,t,e)})),n}}})();const l="id"+Math.random().toString(16).slice(2);let d={};const p={moveToPreviousRound:()=>{},moveToNextRound:()=>{},moveToLastRound:()=>{},setBaseRoundIndex:()=>{},getNavigationState:()=>{},applyNewOptions:()=>{},replaceData:()=>{},applyMatchesUpdates:()=>{},getAllData:()=>c(t||{}),getUserOptions:()=>c(o),highlightContestantHistory:()=>{},uninstall:()=>{}};if(!(n&&n instanceof Element&&n.closest("html")))return console.warn("Could not install playoffs because invalid element is provided: ",n),p;let f=v(n,l,!0===o?.fullscreen);x(o,s,f);if(!X(d,t))return p;i=!0,j(d,f,s.get_final_value);let h=Q(f,s.get_final_value),m=k(l,f,s.get_final_value,h);f.fullscreen_wrapper&&(f.fullscreen_wrapper.style.opacity=1);const b=()=>{_.uninstall(),h.uninstall(),m.uninstall(),null!==f&&(Object.keys(f).forEach((t=>{f[t].remove(),delete f[t]})),f=null),s=null,d=null,t=null,m=null,i=!1},_=((t,e,n,o,r)=>{const{the_root_element:a,fullscreen_wrapper:i,matches_positioner:s}=n,l=()=>{i&&(i.style.opacity=0),setTimeout(r,300)},c=t=>{t.target.closest(".playoffs-root")||l()},d=n=>{if(0===n.button)if(n.target.classList.contains("navigation-button"))o.handle_click(n);else if(null===e("onMatchClick"))if(null===e("onMatchSideClick"))n.target.closest(".matches-positioner")&&(!0!==e("disableHighlight")&&n.target.closest(".side-wrapper[contestant-id]")?g(s,n.target.closest(".side-wrapper").getAttribute("contestant-id")):g(s,null));else{const o=n.target.closest(".side-wrapper");if(o){const r=y(n.target,t),a=o.getAttribute("contestant-id"),i=t.contestants?.[a];e("onMatchSideClick")(r,i,a)}}else if(n.target.classList.contains("match-body")){const o=y(n.target,t);e("onMatchClick")(o)}},u=t=>{!0===e("fullscreen")&&"Escape"===t.key&&l()};return i?.addEventListener("click",c),a.addEventListener("click",d),window.addEventListener("keydown",u),{uninstall:()=>{i?.removeEventListener("click",c),a?.removeEventListener("click",d),window.removeEventListener("keydown",u)}}})(d,s.get_final_value,f,m,b);return{moveToPreviousRound:()=>i&&m.move_left(),moveToNextRound:()=>i&&m.move_right(),moveToLastRound:()=>i&&m.set_base_round_index(1/0),setBaseRoundIndex:t=>{if(a(t))return i&&m.set_base_round_index(t);console.warn("setBaseRoundIndex accepts only numbers, instead got: ",t)},getNavigationState:m.get_state,applyNewOptions:t=>{i&&(x((t=>{const e=w(),n={};return r(t)&&Object.entries(t).forEach((([t,o])=>{"function_or_null"===e[t]?.type||!0===e[t].non_updatable?console.warn(`${t} option can't be updated via applyNewOptions`):n[t]=o})),n})(t),s,f),m.repaint())},replaceData:t=>{if(!i)return;X(d,t)?(j(d,f,s.get_final_value),m.set_base_round_index(0),m.repaint(),f.matches_scroller.scrollTop=0):console.warn("Failed to apply new data")},applyMatchesUpdates:t=>{if(!i)return;if(!Array.isArray(d.matches))return;if(!Array.isArray(t))return void console.warn("applyMatchesUpdates must be called with an array of matches, instead called with: ",t);const{have_critical_error:n}=e(u(t,d.contestants));n||(t.forEach((t=>{if(!a(t.order)||!a(t.roundIndex))return;const e=d.matches.findIndex((e=>e.roundIndex===t.roundIndex&&e.order===t.order));-1===e?d.matches.push(t):Object.assign(d.matches[e],t);const n=document.querySelectorAll(`#${l} .round-wrapper`)[t.roundIndex]?.querySelectorAll(".match-wrapper")[t.order];n&&n.replaceWith(F(t.roundIndex,t.order,d,s.get_final_value))})),m.repaint())},getAllData:()=>c(d||{}),getUserOptions:()=>c(s?.get_user_options()||{}),highlightContestantHistory:t=>{i&&g(f.matches_positioner,t)},uninstall:b}};export{Z as createPlayoffs};
//# sourceMappingURL=index.js.map
